{"version":3,"file":"main.bundle.js","mappings":"AAwDiD,OAA5CA,SAASC,cAAe,gBAC5BD,SAASC,cAAe,eAAgBC,iBAAkB,SAAS,WACvDF,SAASC,cAAe,UAAWE,UArBhD,SAA8BC,EAAMC,GAInC,IAHA,IAAIC,EAAM,GACTC,EAAOP,SAASQ,iBAAkB,oCAEzBC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAAM,CAIvC,IAHA,IAAIE,EAAM,GACTC,EAAOL,EAAME,GAAID,iBAAkB,UAE1BK,EAAI,EAAGA,EAAID,EAAKF,OAAQG,IACjCF,EAAIG,KAAQF,EAAMC,GAAIE,QAAQC,MAAQJ,EAAMC,GAAIE,QAAQC,MAAQJ,EAAMC,GAAII,UAAUC,QAAS,aAAc,MAG5GZ,EAAIQ,KAAMH,EAAIQ,KAAM,QA5BtB,SAAuBb,EAAKD,GAC3B,IAAIe,EAASC,EAGbD,EAAU,IAAIE,KAAM,CAAEhB,GAAO,CAAEiB,KAAM,+BAGrCF,EAAerB,SAASwB,cAAe,MAC1BC,SAAWpB,EACxBgB,EAAaK,KAAOC,OAAOC,IAAIC,gBAAiBT,GAChDC,EAAaS,MAAMC,QAAU,OAC7B/B,SAASgC,KAAKC,OAAQZ,GAEtBA,EAAaa,QAmBbC,CAAc7B,EAAIa,KAAM,MAAQd,GAO/B+B,CAAqBhC,EAAMJ,SAASC,cAAe,gCAAiCgB,UAAY,WASlGjB,SAASE,iBAAkB,oBAAoB,WAIK,OAA9CF,SAASC,cAAe,kBAC5BD,SAASC,cAAe,iBAAkBC,iBAAkB,SAAS,WAcpE,OAbAyB,OAAOU,SAaA","sources":["webpack:///./main.js"],"sourcesContent":["const getCurrency = () => {\n\treturn globalDataBilly.currency;\n};\n\nconst formatNumber = ( val, l = globalDataBilly.locale ) => {\n\treturn val.toLocaleString( l, { 'minimumFractionDigits': 2, 'maximumFractionDigits': 2 } );\n};\n\nconst formatNumberPlain = val => {\n\treturn val.toLocaleString( undefined, { 'minimumFractionDigits': 2, 'maximumFractionDigits': 2 } );\n};\n\nconst formatCurrency = val => {\n\treturn globalDataBilly.currency + ' ' + formatNumber( val );\n};\n\n\n/**\n * Download TSV\n */\n\nfunction download_tsv( tsv, filename ) {\n\tvar tsvFile, downloadLink;\n\n\t// TSV file blob\n\ttsvFile = new Blob( [ tsv ], { type: \"text/tab-separated-values\" } );\n\n\t// Download link\n\tdownloadLink = document.createElement( 'a' );\n\tdownloadLink.download = filename;\n\tdownloadLink.href = window.URL.createObjectURL( tsvFile );\n\tdownloadLink.style.display = 'none';\n\tdocument.body.append( downloadLink );\n\n\tdownloadLink.click();\n}\n\nfunction export_table_to_tsv( html, filename ) {\n\tvar tsv = [],\n\t\trows = document.querySelectorAll( '.table thead tr, .table tbody tr' );\n\t\n\tfor ( var i = 0; i < rows.length; i++ ) {\n\t\tvar row = [],\n\t\t\tcols = rows[ i ].querySelectorAll( 'td, th' );\n\t\t\n\t\tfor ( var j = 0; j < cols.length; j++ ) {\n\t\t\trow.push( ( cols[ j ].dataset.value ? cols[ j ].dataset.value : cols[ j ].innerHTML.replace( /<[^>]*>?/gm, ' ' ) ) ); // Get value (data-value or inner HTML). Strip HTML tags.\n\t\t}\n\t\t\n\t\ttsv.push( row.join( '\t' ) );\n\t}\n\n\t// Create download link\n\tdownload_tsv( tsv.join( \"\\n\" ), filename );\n}\n\nif ( document.querySelector( '.tsv-button' ) !== null ) {\n\tdocument.querySelector( '.tsv-button' ).addEventListener( 'click', function () {\n\t\tvar html = document.querySelector( '.table' ).outerHTML;\n\n\t\texport_table_to_tsv( html, document.querySelector( '#billy-accounting .header h1' ).innerHTML + '.tsv' );\n\t} );\n}\n\n\n/**\n * Onload\n */\n\ndocument.addEventListener( 'DOMContentLoaded', function () {\n\t/**\n\t * Print \"ID\" container\n\t */\n\tif ( document.querySelector( '.print-button' ) !== null ) {\n\t\tdocument.querySelector( '.print-button' ).addEventListener( 'click', function () {\n\t\t\twindow.print();\n\t\t\t/*\n\t\t\t// Print div with specific \"id\"\n\t\t\tvar parentId = this.closest( '[id^=\"billy-\"]' ).id,\n\t\t\t\tprintDivHtml = document.getElementById( parentId ).innerHTML,\n\t\t\t\toriginalHtml = document.body.innerHTML;\n\t\t\t\n\t\t\tconsole.log( 'Printing... ' + '#' + parentId );\n\t\t\t\n\t\t\tdocument.body.innerHTML = printDivHtml;\n\t\t\twindow.print();\n\t\t\tdocument.body.innerHTML = originalHtml;\n\t\t\t*/\n\t\t\treturn false;\n\t\t} );\n\t}\n\n\t/**\n\t * PrintJS: Not working with some tested themes!\n\t */\n\t/*if ( document.querySelector( '.print-button' ) !== null ) {\n\t\t// Get all stylesheet hrefs\n\t\tvar stylesheetHrefs = [];\n\t\tArray.from( document.head.querySelectorAll( '[rel=\"stylesheet\"]' ) ).forEach( function ( stylesheet ) {\n\t\t\tif ( stylesheet.href.indexOf(\"/wp-content/themes/\") > -1 || stylesheet.href.indexOf(\"/plugins/billy-\") > -1 || stylesheet.href.indexOf(\"/block-library/\") > -1 ) {\n\t\t\t\tstylesheetHrefs.push( stylesheet.href );\n\t\t\t}\n\t\t} );\n\n\t\tdocument.querySelector( '.print-button' ).addEventListener( 'click', function () {\n\t\t\tvar parentId = this.closest( '[id^=\"billy-\"]' ).id;\n\n\t\t\tprintJS( {\n\t\t\t\tprintable: parentId, // 'id' Selector\n\t\t\t\ttype: 'html', // 'type'\n\t\t\t\tcss: stylesheetHrefs,\n\t\t\t\tscanStyles: false,\n\t\t\t\tdocumentTitle: '',\n\t\t\t} );\n\n\t\t\treturn false;\n\t\t} );\n\t}*/\n\t\n} );\n"],"names":["document","querySelector","addEventListener","outerHTML","html","filename","tsv","rows","querySelectorAll","i","length","row","cols","j","push","dataset","value","innerHTML","replace","join","tsvFile","downloadLink","Blob","type","createElement","download","href","window","URL","createObjectURL","style","display","body","append","click","download_tsv","export_table_to_tsv","print"],"sourceRoot":""}