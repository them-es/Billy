(()=>{const e=document.querySelector(".tsv-button");e&&e.addEventListener("click",function(){!function(e,t){const n=[];document.querySelectorAll(`${e} thead tr, ${e} tbody tr`).forEach(e=>{const t=e.querySelectorAll("td, th"),o=Array.from(t).map(e=>e.dataset.value||e.innerHTML.replace(/(<([^>]+)>)/gi,"").replace(/(?:\r\n|\r|\n)/g,""));n.push(o.join("\t"))}),function(e,t){const n=new Blob([e],{type:"text/tab-separated-values"}),o=document.createElement("a");o.download=t,o.href=window.URL.createObjectURL(n),o.style.display="none",document.body.append(o),o.click(),document.body.removeChild(o)}(n.join("\n"),t)}(`#${this.closest('[id^="billy-"]').id} .table`,`${document.title||document.querySelector(".wp-block-post-title").textContent}.tsv`)})})();