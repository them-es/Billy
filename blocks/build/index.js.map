{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wordpress-blocks-boilerplate/./src/_accounting/actions/index.js","webpack://wordpress-blocks-boilerplate/./src/_accounting/table/deprecatedInner.js","webpack://wordpress-blocks-boilerplate/./src/_accounting/table/deprecatedOuter.js","webpack://wordpress-blocks-boilerplate/./src/_accounting/table/index.js","webpack://wordpress-blocks-boilerplate/./src/_header/header/index.js","webpack://wordpress-blocks-boilerplate/./src/_header/theme-mod/index.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/actions/index.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/date/index.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/duedate/index.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/invoice-number/index.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/meta/index.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/paymentinformation/index.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/table/deprecatedInner.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/table/deprecatedOuter.js","webpack://wordpress-blocks-boilerplate/./src/_invoice/table/index.js","webpack://wordpress-blocks-boilerplate/./src/_quote/actions/index.js","webpack://wordpress-blocks-boilerplate/./src/_quote/date/index.js","webpack://wordpress-blocks-boilerplate/./src/_quote/information/index.js","webpack://wordpress-blocks-boilerplate/./src/_quote/meta/index.js","webpack://wordpress-blocks-boilerplate/./src/_quote/table/deprecatedInner.js","webpack://wordpress-blocks-boilerplate/./src/_quote/table/deprecatedOuter.js","webpack://wordpress-blocks-boilerplate/./src/_quote/table/index.js","webpack://wordpress-blocks-boilerplate/./src/_quote/validuntildate/index.js","webpack://wordpress-blocks-boilerplate/./src/functions.js","webpack://wordpress-blocks-boilerplate/external window [\"wp\",\"blockEditor\"]","webpack://wordpress-blocks-boilerplate/external window [\"wp\",\"blocks\"]","webpack://wordpress-blocks-boilerplate/external window [\"wp\",\"components\"]","webpack://wordpress-blocks-boilerplate/external window [\"wp\",\"data\"]","webpack://wordpress-blocks-boilerplate/external window [\"wp\",\"element\"]","webpack://wordpress-blocks-boilerplate/external window [\"wp\",\"i18n\"]","webpack://wordpress-blocks-boilerplate/external window [\"wp\",\"serverSideRender\"]","webpack://wordpress-blocks-boilerplate/webpack/bootstrap","webpack://wordpress-blocks-boilerplate/webpack/runtime/compat get default export","webpack://wordpress-blocks-boilerplate/webpack/runtime/define property getters","webpack://wordpress-blocks-boilerplate/webpack/runtime/hasOwnProperty shorthand","webpack://wordpress-blocks-boilerplate/webpack/runtime/make namespace object","webpack://wordpress-blocks-boilerplate/./src/index.js"],"sourcesContent":["/**\n * Accounting Actions\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\tregisterBlockType,\n} from '@wordpress/blocks';\nimport {\n\t__,\n\t_n,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\twithSelect,\n} from '@wordpress/data';\n\n\nregisterBlockType( 'billy-blocks/accounting-actions', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Accounting', 'billy' ), __( 'Actions', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostModifiedDate: select( 'core/editor' ).getEditedPostAttribute( 'modified' ),\n\t\t};\n\t} )( props => {\n\t\tconst {\n\t\t\tpostModifiedDate,\n\t\t} = props;\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<div className=\"components-placeholder\" style={ { minHeight: 'auto' } }>\n\t\t\t\t<small>\n\t\t\t\t\t{\n\t\t\t\t\t\tsprintf( __( '%1$s: %2$s', 'billy' ), __( 'Last modified', 'billy' ), new Date( postModifiedDate ).toLocaleString() )\n\t\t\t\t\t}\n\t\t\t\t</small>\n\t\t\t</div>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\treturn null;\n\t},\n} );\n","/**\n * Accounting Table (Inner): Deprecated\n * https://developer.wordpress.org/block-editor/developers/block-api/block-deprecation\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\n\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\n\nconst deprecatedAccountingInner = [\n\t// < v1.2.0 (20200824)\n\t{\n\t\tattributes: {\n\t\t\tindex: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '0',\n\t\t\t},\n\t\t\tcurrency: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tdate: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tquarter: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\treference: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tdescription: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tearning: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\texpense: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\ttax: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tpostUUID: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tpostTitle: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tpostLink: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tpostType: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t},\n\t\n\t\tsave: props => {\n\t\t\tconst {\n\t\t\t\tclassName,\n\t\t\t\tattributes: {\n\t\t\t\t\tindex,\n\t\t\t\t\tlocale,\n\t\t\t\t\tdate,\n\t\t\t\t\tquarter,\n\t\t\t\t\tdescription,\n\t\t\t\t\tearning,\n\t\t\t\t\texpense,\n\t\t\t\t\ttax,\n\t\t\t\t\treference,\n\t\t\t\t\tpostLink,\n\t\t\t\t},\n\t\t\t} = props;\n\t\n\t\t\treturn (\n\t\t\t\t<tr data-date={ date && new Date( date ).toISOString().substring( 0, 10 ) } data-quarter={ quarter && sprintf( __( 'Q%s', 'billy' ), quarter ) } data-reference={ reference && reference } data-earning={ earning > 0 ? earning : null } data-expense={ expense > 0 ? expense : null } data-tax={ tax > 0 ? tax : null }>\n\t\t\t\t\t<th className=\"index\" scope=\"row\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t}\n\t\t\t\t\t</th>\n\t\t\t\t\t<td className=\"date\" data-value={ date && new Date( date ).toISOString().substring( 0, 10 ) }>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdate &&\n\t\t\t\t\t\t\t\tnew Date( date ).toISOString().substring( 0, 10 )\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<sub>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tquarter &&\n\t\t\t\t\t\t\t\t\tsprintf( __( 'Q%s', 'billy' ), quarter )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</sub>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"description\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdescription &&\n\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"reference\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treference && !postLink &&\n\t\t\t\t\t\t\t\treference\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treference && postLink &&\n\t\t\t\t\t\t\t\t<a href={ postLink }>{ reference }</a>\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"amount earning\" data-value={ earning > 0 ? earning : null }>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tearning && earning > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\tformatNumber( earning, locale )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"amount expense\" data-value={ expense > 0 ? expense : null }>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\texpense && expense > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\tformatNumber( expense, locale )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td className=\"amount tax\" data-value={ tax > 0 ? tax : null }>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttax && tax > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\tformatNumber( tax, locale )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t);\n\t\n\t\t},\n\t}\n];\n\nexport default deprecatedAccountingInner;","/**\n * Accounting Table (Outer): Deprecated\n * https://developer.wordpress.org/block-editor/developers/block-api/block-deprecation\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n} from '@wordpress/blockEditor';\n\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\n\nconst deprecatedAccountingOuter = [\n\t// < v1.3 (202102)\n\t{\n\t\tattributes: {\n\t\t\tcurrency: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTotalEarnings: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTotalExpenses: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTaxEarnings: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTaxExpenses: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t},\n\t\n\t\tsave: props => {\n\t\t\tconst {\n\t\t\t\tclassName,\n\t\t\t\tattributes: {\n\t\t\t\t\tcurrency,\n\t\t\t\t\tlocale,\n\t\t\t\t\tamountTotalEarnings,\n\t\t\t\t\tamountTotalExpenses,\n\t\t\t\t\tamountTaxEarnings,\n\t\t\t\t\tamountTaxExpenses,\n\t\t\t\t},\n\t\t\t} = props;\n\t\n\t\t\treturn (\n\t\t\t\t<div className={ 'alignwide' + ( className ? ' ' + className : '' ) }>\n\t\t\t\t\t<table className=\"table wp-block-table\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"index\">\n\t\t\t\t\t\t\t\t\t{ __( '#', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"date\">\n\t\t\t\t\t\t\t\t\t{ __( 'Date', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"description\">\n\t\t\t\t\t\t\t\t\t{ __( 'Description', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"reference\">\n\t\t\t\t\t\t\t\t\t{ __( 'Reference', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort earnings\" data-sort=\"earning\">\n\t\t\t\t\t\t\t\t\t{ __( 'Earnings', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort expenses\" data-sort=\"expense\">\n\t\t\t\t\t\t\t\t\t{ __( 'Expenses', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"tax\">\n\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody className=\"list\">\n\t\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTotalEarnings > 0 || amountTotalExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"4\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( '%1$s / %2$s', 'billy' ), __( 'Earnings', 'billy' ), __( 'Expenses', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum earnings\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum expenses\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTotalEarnings > 0 || amountTotalExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"4\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Profit', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"profit\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( ( amountTotalEarnings - amountTotalExpenses ), locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTaxEarnings > 0 || amountTaxExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"4\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( '%1$s (%2$s / %3$s)', 'billy' ), __( 'Taxes', 'billy' ) , __( 'Earnings', 'billy' ), __( 'Expenses', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum tax-earnings\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum tax-expenses\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t},\n\t// < v1.2.4 (202012)\n\t{\n\t\tattributes: {\n\t\t\tcurrency: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTotalEarnings: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTotalExpenses: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTaxEarnings: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTaxExpenses: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t},\n\t\n\t\tsave: props => {\n\t\t\tconst {\n\t\t\t\tclassName,\n\t\t\t\tattributes: {\n\t\t\t\t\tcurrency,\n\t\t\t\t\tlocale,\n\t\t\t\t\tamountTotalEarnings,\n\t\t\t\t\tamountTotalExpenses,\n\t\t\t\t\tamountTaxEarnings,\n\t\t\t\t\tamountTaxExpenses,\n\t\t\t\t},\n\t\t\t} = props;\n\t\n\t\t\treturn (\n\t\t\t\t<div className={ 'alignwide' + ( className ? ' ' + className : '' ) }>\n\t\t\t\t\t<table className=\"table wp-block-table\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"index\">\n\t\t\t\t\t\t\t\t\t{ __( '#', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"date\">\n\t\t\t\t\t\t\t\t\t{ __( 'Date', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"description\">\n\t\t\t\t\t\t\t\t\t{ __( 'Description', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"reference\">\n\t\t\t\t\t\t\t\t\t{ __( 'Reference', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort earnings\" data-sort=\"earning\">\n\t\t\t\t\t\t\t\t\t{ __( 'Earning', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort expenses\" data-sort=\"expense\">\n\t\t\t\t\t\t\t\t\t{ __( 'Expense', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"tax\">\n\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody className=\"list\">\n\t\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTotalEarnings > 0 || amountTotalExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"4\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( '%1$s / %2$s', 'billy' ), __( 'Earnings', 'billy' ), __( 'Expenses', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum earnings\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum expenses\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTotalEarnings > 0 || amountTotalExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"4\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Profit', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"profit\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( ( amountTotalEarnings - amountTotalExpenses ), locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTaxEarnings > 0 || amountTaxExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"4\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( '%1$s (%2$s / %3$s)', 'billy' ), __( 'Taxes', 'billy' ) , __( 'Earnings', 'billy' ), __( 'Expenses', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum tax-earnings\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"sum tax-expenses\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t}\n];\n\nexport default deprecatedAccountingOuter;","/**\n * Accounting Table\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\tregisterBlockType,\n} from '@wordpress/blocks';\nimport {\n\t__,\n\t_n,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tInnerBlocks,\n} from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tTextControl,\n\tDatePicker, // https://developer.wordpress.org/block-editor/components/date-time\n} from '@wordpress/components';\nimport {\n\tdispatch,\n\twithSelect,\n} from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tgetQuarter,\n\tformatNumber,\n} from '../../functions';\n\nimport deprecatedAccountingOuter from './deprecatedOuter';\nimport deprecatedAccountingInner from './deprecatedInner';\n\nvar updateTotals;\n\n\n/**\n * 1. Outer Block\n */\n\nregisterBlockType( 'billy-blocks/accounting-table', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Accounting', 'billy' ), __( 'Table', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tattributes: {\n\t\tcurrency: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlocale: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountTotalEarnings: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountTotalExpenses: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountTaxEarnings: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountTaxExpenses: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select, { clientId } ) => {\n\t\tconst { getBlocksByClientId } = select( 'core/block-editor' );\n\n\t\tglobalDataBilly.clientId = clientId;\n\n\t\t// Get child blocks\n\t\tconst childBlocks = getBlocksByClientId( clientId )[ 0 ].innerBlocks;\n\n\t\t// Sort array based on date attribute\n\t\tchildBlocks.sort( ( a, b ) => {\n\t\t\treturn new Date( a.attributes.date ) - new Date( b.attributes.date )\n\t\t} );\n\n\t\treturn {\n\t\t\tchildBlocks: childBlocks,\n\t\t};\n\t} )( props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tchildBlocks,\n\t\t\tattributes: {\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tamountTotalEarnings,\n\t\t\t\tamountTotalExpenses,\n\t\t\t\tamountTaxEarnings,\n\t\t\t\tamountTaxExpenses,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\t//console.log(childBlocks);\n\t\tsetAttributes( { currency: globalDataBilly.currency } );\n\t\tsetAttributes( { locale: globalDataBilly.locale } );\n\n\t\t// Calculate values and update attributes\n\t\tupdateTotals = () => {\n\t\t\tvar amountEarningsSum = 0,\n\t\t\t\tamountExpensesSum = 0,\n\t\t\t\tamountTaxEarningsSum = 0,\n\t\t\t\tamountTaxExpensesSum = 0;\n\n\t\t\tif ( childBlocks && childBlocks.length > 0 ) {\n\t\t\t\tchildBlocks.forEach( ( childBlock ) => {\n\t\t\t\t\tamountEarningsSum += Number( childBlock.attributes.earning );\n\t\t\t\t\tamountExpensesSum += Number( childBlock.attributes.expense );\n\n\t\t\t\t\tif ( childBlock.attributes.earning ) {\n\t\t\t\t\t\tamountTaxEarningsSum += Number( childBlock.attributes.tax );\n\t\t\t\t\t}\n\t\t\t\t\tif ( childBlock.attributes.expense ) {\n\t\t\t\t\t\tamountTaxExpensesSum += Number( childBlock.attributes.tax );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tsetAttributes( { amountTotalEarnings: amountEarningsSum } );\n\t\t\tsetAttributes( { amountTotalExpenses: amountExpensesSum } );\n\n\t\t\tsetAttributes( { amountTaxEarnings: amountTaxEarningsSum } );\n\t\t\tsetAttributes( { amountTaxExpenses: amountTaxExpensesSum } );\n\t\t}\n\t\tupdateTotals();\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Actions', 'billy' ) }>\n\t\t\t\t\t\t<button id=\"updatetotals\" className=\"components-button is-secondary is-button\" onClick={ updateTotals }>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t__( 'Update Totals', 'billy' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t\n\t\t\t\t<div className={ 'accountingtable-block' + ( className ? ' ' + className : '' ) }>\n\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\ttemplateLock={ false }\n\t\t\t\t\t\ttemplate={ [\n\t\t\t\t\t\t\t[ 'billy-blocks/accounting-tablerow', {\n\t\t\t\t\t\t\t\t//placeholder: 'Enter content',\n\t\t\t\t\t\t\t} ],\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tallowedBlocks={ [\n\t\t\t\t\t\t\t'billy-blocks/accounting-tablerow',\n\t\t\t\t\t\t] }\n\t\t\t\t\t/>\n\n\t\t\t\t\t<table className=\"totals\">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tamountTotalEarnings > 0 &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr className=\"earnings\">\n\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Earnings', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tamountTotalExpenses > 0 &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr className=\"expenses\">\n\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Expenses', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTotalEarnings > 0 || amountTotalExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr className=\"profit\">\n\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Profit', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td style={ { borderTop: '2px solid' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( ( amountTotalEarnings - amountTotalExpenses ), locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t( amountTaxEarnings > 0 || amountTaxExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<tr className=\"taxes-earnings\">\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( 'Taxes (%s)', 'billy' ), __( 'Earnings', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr className=\"taxes-expenses\">\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( 'Taxes (%s)', 'billy' ), __( 'Expenses', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tamountTotalEarnings,\n\t\t\t\tamountTotalExpenses,\n\t\t\t\tamountTaxEarnings,\n\t\t\t\tamountTaxExpenses,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\t<div className={ 'alignwide' + ( className ? ' ' + className : '' ) }>\n\t\t\t\t<table className=\"table wp-block-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"index\">\n\t\t\t\t\t\t\t\t{ __( '#', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"date\">\n\t\t\t\t\t\t\t\t{ __( 'Date', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"description\">\n\t\t\t\t\t\t\t\t{ __( 'Description', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"reference\">\n\t\t\t\t\t\t\t\t{ __( 'Reference', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort earnings\" data-sort=\"earning\">\n\t\t\t\t\t\t\t\t{ __( 'Earnings', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort expenses\" data-sort=\"expense\">\n\t\t\t\t\t\t\t\t{ __( 'Expenses', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\" className=\"sort\" data-sort=\"tax\">\n\t\t\t\t\t\t\t\t{ __( 'Taxes', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody className=\"list\">\n\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t</tbody>\n\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t( amountTotalEarnings > 0 || amountTotalExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"5\" className=\"alignright\">\n\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( '%1$s / %2$s', 'billy' ), __( 'Earnings', 'billy' ), __( 'Expenses', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"sum earnings\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"sum expenses\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotalExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t( amountTotalEarnings > 0 || amountTotalExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"5\" className=\"alignright\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Profit', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"profit\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( ( amountTotalEarnings - amountTotalExpenses ), locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t( amountTaxEarnings > 0 || amountTaxExpenses > 0 ) &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"5\" className=\"alignright\">\n\t\t\t\t\t\t\t\t\t\t\t{ sprintf( __( '%1$s (%2$s / %3$s)', 'billy' ), __( 'Taxes', 'billy' ) , __( 'Earnings', 'billy' ), __( 'Expenses', 'billy' ) ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"sum tax-earnings\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxEarnings, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td className=\"sum tax-expenses\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTaxExpenses, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</tfoot>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t);\n\t},\n\n\tdeprecated: deprecatedAccountingOuter,\n} );\n\n\n/**\n * 2. Inner Block\n */\n\nregisterBlockType( 'billy-blocks/accounting-tablerow', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Accounting', 'billy' ), __( 'Table Row', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tparent: [ 'billy-blocks/accounting-table' ], // Only allow in outer block\n\tattributes: {\n\t\tindex: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '0',\n\t\t},\n\t\tcurrency: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlocale: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tdate: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tquarter: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\treference: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tearning: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\texpense: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\ttax: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tpostUUID: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tpostTitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tpostLink: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tpostType: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select, { clientId } ) => {\n\t\tconst {\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockIndex,\n\t\t} = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tclientId: clientId,\n\t\t\trootClientId: getBlockRootClientId( clientId ),\n\t\t\ti: getBlockIndex( clientId, getBlockRootClientId( clientId ) ) + 1,\n\t\t}\n\t} )( props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tclientId,\n\t\t\trootClientId,\n\t\t\ti,\n\t\t\tattributes: {\n\t\t\t\tindex,\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tdescription, // < v1.2.0\n\t\t\t\tdate,\n\t\t\t\tquarter,\n\t\t\t\tearning,\n\t\t\t\texpense,\n\t\t\t\ttax,\n\t\t\t\treference,\n\t\t\t\tpostUUID,\n\t\t\t\tpostTitle,\n\t\t\t\tpostLink,\n\t\t\t\tpostType,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tsetAttributes( { index: i } );\n\t\tsetAttributes( { currency: globalDataBilly.currency } );\n\t\tsetAttributes( { locale: globalDataBilly.locale } );\n\n\t\tif ( '' === date ) {\n\t\t\tsetAttributes( { date: new Date().toISOString().substring( 0, 10 ) } ); // Current date\n\t\t\tsetAttributes( { quarter: getQuarter( new Date().toISOString().substring( 0, 10 ) ) } ); // Current date\n\t\t}\n\n\t\tconst reOrder = () => {\n\t\t\t// Reorder by date (move up/down): see \"childBlocks.sort()\"\n\t\t\tdispatch( 'core/block-editor' ).moveBlockToPosition( clientId, rootClientId, rootClientId, i );\n\t\t}\n\n\t\tconst updateQuarter = val => {\n\t\t\t// Get quarter from datestring\n\t\t\tsetAttributes( { quarter: Number( getQuarter( val ) ) } );\n\t\t};\n\n\t\tconst updateDate = val => {\n\t\t\t//console.log( val );\n\t\t\tsetAttributes( { date: val } );\n\n\t\t\t// Get quarter from datestring\n\t\t\tupdateQuarter( val );\n\n\t\t\treOrder();\n\t\t};\n\n\t\tconst updateReference = val => {\n\t\t\tsetAttributes( { reference: val } );\n\t\t}\n\n\t\tconst updateEarning = val => {\n\t\t\tsetAttributes( { expense: '' } ); // Clear value\n\n\t\t\tsetAttributes( { earning: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateTotals();\n\t\t}\n\n\t\tconst updateExpense = val => {\n\t\t\tsetAttributes( { earning: '' } ); // Clear value\n\n\t\t\tsetAttributes( { expense: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateTotals();\n\t\t}\n\n\t\tconst updateTax = val => {\n\t\t\tsetAttributes( { tax: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateTotals();\n\t\t}\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t{\n\t\t\t\t\t\t!postUUID &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t<PanelBody title={ __( 'Date', 'billy' ) }>\n\t\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\t\tcurrentDate={ date }\n\t\t\t\t\t\t\t\t\t\tonChange={ updateDate }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tpostUUID && postLink &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t<PanelBody title={ sprintf( __( 'Reference: %s', 'billy' ), ( postType ? postType.charAt(0).toUpperCase() + postType.substring(1) : __( 'Post', 'billy' ) ) ) }>\n\t\t\t\t\t\t\t\t\t<p><a href={ postLink }>{ ( postTitle ? postTitle : postLink ) }</a></p>\n\t\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th className=\"index\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<td className=\"date\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tdate &&\n\t\t\t\t\t\t\t\t\t\tnew Date( date ).toISOString().substring( 0, 10 )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t<sub>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tquarter &&\n\t\t\t\t\t\t\t\t\t\t\tsprintf( __( 'Q%s', 'billy' ), quarter )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</sub>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"description\" style={ { minWidth: '200px' } }>\n\t\t\t\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\t\t\t\ttemplate={ [\n\t\t\t\t\t\t\t\t\t\t[ 'core/paragraph', {\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: __( 'Add content', 'billy' ),\n\t\t\t\t\t\t\t\t\t\t\tcontent: ( description ? description : '' ), // < v1.2.0\n\t\t\t\t\t\t\t\t\t\t} ],\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t\tallowedBlocks={ [\n\t\t\t\t\t\t\t\t\t\t'core/heading',\n\t\t\t\t\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t\t\t\t\t'core/list',\n\t\t\t\t\t\t\t\t\t\t'core/html',\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"reference\">\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Reference', 'billy' ) }\n\t\t\t\t\t\t\t\t\tplaceholder=\"\"\n\t\t\t\t\t\t\t\t\tvalue={ reference }\n\t\t\t\t\t\t\t\t\tonChange={ updateReference }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"amount earning\">\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Earning', 'billy' ), currency ) }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\t\t\tvalue={ earning }\n\t\t\t\t\t\t\t\t\tonChange={ updateEarning }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"amount expense\">\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Expense', 'billy' ), currency ) }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\t\t\tvalue={ expense }\n\t\t\t\t\t\t\t\t\tonChange={ updateExpense }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td className=\"amount tax\">\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Tax', 'billy' ), currency ) }\n\t\t\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\t\t\tvalue={ tax }\n\t\t\t\t\t\t\t\t\tonChange={ updateTax }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tindex,\n\t\t\t\tlocale,\n\t\t\t\tdate,\n\t\t\t\tquarter,\n\t\t\t\tearning,\n\t\t\t\texpense,\n\t\t\t\ttax,\n\t\t\t\treference,\n\t\t\t\tpostLink,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\t<tr data-date={ date && new Date( date ).toISOString().substring( 0, 10 ) } data-quarter={ quarter && sprintf( __( 'Q%s', 'billy' ), quarter ) } data-reference={ reference && reference } data-earning={ earning > 0 ? earning : null } data-expense={ expense > 0 ? expense : null } data-tax={ tax > 0 ? tax : null }>\n\t\t\t\t<th className=\"index\" scope=\"row\">\n\t\t\t\t\t{\n\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\tindex\n\t\t\t\t\t}\n\t\t\t\t</th>\n\t\t\t\t<td className=\"date\" data-value={ date && new Date( date ).toISOString().substring( 0, 10 ) }>\n\t\t\t\t\t{\n\t\t\t\t\t\tdate &&\n\t\t\t\t\t\t\tnew Date( date ).toISOString().substring( 0, 10 )\n\t\t\t\t\t}\n\t\t\t\t\t<sub>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquarter &&\n\t\t\t\t\t\t\t\tsprintf( __( 'Q%s', 'billy' ), quarter )\n\t\t\t\t\t\t}\n\t\t\t\t\t</sub>\n\t\t\t\t</td>\n\t\t\t\t<td className=\"description\">\n\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t</td>\n\t\t\t\t<td className=\"reference\">\n\t\t\t\t\t{\n\t\t\t\t\t\treference && !postLink &&\n\t\t\t\t\t\t\treference\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\treference && postLink &&\n\t\t\t\t\t\t\t<a href={ postLink }>{ reference }</a>\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t\t<td className=\"amount earning\" data-value={ earning > 0 ? earning : null }>\n\t\t\t\t\t{\n\t\t\t\t\t\tearning && earning > 0 &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tformatNumber( earning, locale )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t\t<td className=\"amount expense\" data-value={ expense > 0 ? expense : null }>\n\t\t\t\t\t{\n\t\t\t\t\t\texpense && expense > 0 &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tformatNumber( expense, locale )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t\t<td className=\"amount tax\" data-value={ tax > 0 ? tax : null }>\n\t\t\t\t\t{\n\t\t\t\t\t\ttax && tax > 0 &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tformatNumber( tax, locale )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t);\n\t},\n\n\tdeprecated: deprecatedAccountingInner,\n} );\n","/**\n * Header\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tDisabled,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/header', {\n\ttitle: __( 'Header', 'billy' ),\n\ticon: 'editor-table', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: props => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Info', 'billy' ) }>\n\t\t\t\t\t\t<div className=\"components-notice\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t<a href={ globalDataBilly.wpAdmin + 'edit.php?post_type=billy-header' }>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tsprintf( __( 'Edit the %s layout', 'billy' ), __( 'Header', 'billy' ) )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"components-notice\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( __( 'The %s values can be modified in the Theme Customizer.', 'billy' ), __( 'Header', 'billy' ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender block=\"billy-blocks/header\" />\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Header: theme_mod\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tSelectControl,\n\tPanelBody,\n\tDisabled,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/theme-mod', {\n\ttitle: __( 'Theme Mod', 'billy' ),\n\ticon: 'admin-generic', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tattributes: {\n\t\tthemeMod: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tthemeMod,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tconst updateThemeMod = val => {\n\t\t\tsetAttributes( { themeMod: val } );\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Theme Mod', 'billy' ) }>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Setting', 'billy' ) }\n\t\t\t\t\t\t\thelp={ __( 'Modify the value in the Theme Customizer.', 'billy' ) }\n\t\t\t\t\t\t\toptions={ globalDataBilly.themeModOptions }\n\t\t\t\t\t\t\tvalue={ themeMod }\n\t\t\t\t\t\t\tonChange={ updateThemeMod }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender block=\"billy-blocks/theme-mod\" attributes={ props.attributes } />\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Invoice Actions\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\tregisterBlockType,\n} from '@wordpress/blocks';\nimport {\n\t__,\n\t_n,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\twithSelect,\n} from '@wordpress/data';\n\n\nregisterBlockType( 'billy-blocks/invoice-actions', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Actions', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostModifiedDate: select( 'core/editor' ).getEditedPostAttribute( 'modified' ),\n\t\t};\n\t} )( props => {\n\t\tconst {\n\t\t\tpostModifiedDate,\n\t\t} = props;\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<div className=\"components-placeholder\" style={ { minHeight: 'auto' } }>\n\t\t\t\t<small>\n\t\t\t\t\t{\n\t\t\t\t\t\tsprintf( __( '%1$s: %2$s', 'billy' ), __( 'Last modified', 'billy' ), new Date( postModifiedDate ).toLocaleString() )\n\t\t\t\t\t}\n\t\t\t\t</small>\n\t\t\t</div>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\treturn null;\n\t},\n} );\n","/**\n * Invoice Date\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tDisabled,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/invoice-date', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Date', 'billy' ) ),\n\ticon: 'calendar-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Info', 'billy' ) }>\n\t\t\t\t\t\t<div className=\"components-notice is-warning\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( __( 'Due to legal requirements in some countries, autogenerated data like %s can\\'t be modified anymore after an invoice has been created in the system!', 'billy' ), __( 'Date', 'billy' ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender block=\"billy-blocks/invoice-date\" />\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Due Date\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tDisabled,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/invoice-duedate', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Due Date', 'billy' ) ),\n\ticon: 'calendar-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Info', 'billy' ) }>\n\t\t\t\t\t\t<div className=\"components-notice\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( __( 'The %s values can be modified in the Theme Customizer.', 'billy' ), __( 'Payment due days', 'billy' ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender block=\"billy-blocks/invoice-duedate\" />\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Invoice Number\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tDisabled,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/invoice-number', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Number', 'billy' ) ),\n\ticon: 'editor-ol', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Info', 'billy' ) }>\n\t\t\t\t\t\t<div className=\"components-notice\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( __( 'The %s values can be modified in the Theme Customizer.', 'billy' ), __( 'Invoice number: Prefix', 'billy' ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"components-notice is-warning\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( __( 'Due to legal requirements in some countries, autogenerated data like %s can\\'t be modified anymore after an invoice has been created in the system!', 'billy' ), __( 'Invoice number', 'billy' ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender block=\"billy-blocks/invoice-number\" />\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Meta Field\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tTextControl,\n\tPanelBody,\n} from '@wordpress/components';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n\nregisterBlockType( 'billy-blocks/invoice-meta', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Meta', 'billy' ) ),\n\ticon: 'editor-textcolor', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tattributes: {\n\t\tlabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\ttext: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tlabel,\n\t\t\t\ttext,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tconst updateLabel = val => {\n\t\t\tsetAttributes( { label: val } );\n\t\t}\n\n\t\tconst updateInput = val => {\n\t\t\tsetAttributes( { text: val } );\n\t\t}\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Label', 'billy' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"label\"\n\t\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\t\tonChange={ updateLabel }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody title={ __( 'Text', 'billy' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"text\"\n\t\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t\t\tonChange={ updateInput }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<RawHTML>\n\t\t\t\t\t{\n\t\t\t\t\t\tsprintf( __( '<div class=\"label\">%1$s</div> <div class=\"text\">%2$s</div>', 'billy' ), ( label ? label : '' ), ( text ? text : __( 'N/A', 'billy' ) ) )\n\t\t\t\t\t}\n\t\t\t\t</RawHTML>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tlabel,\n\t\t\t\ttext,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\ttext && (\n\t\t\t\t<RawHTML>\n\t\t\t\t\t{\n\t\t\t\t\t\tsprintf( __( '<div class=\"label\">%1$s</div> <div class=\"text\">%2$s</div>', 'billy' ), ( label ? label : '' ), ( text ? text : __( 'N/A', 'billy' ) ) )\n\t\t\t\t\t}\n\t\t\t\t</RawHTML>\n\t\t\t)\n\t\t);\n\t},\n\n\tdeprecated: [\n\t\t// < v1.2.3 (202012)\n\t\t{\n\t\t\tattributes: {\n\t\t\t\tlabel: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t},\n\t\t\t\n\t\t\tsave: props => {\n\t\t\t\tconst {\n\t\t\t\t\tclassName,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\ttext,\n\t\t\t\t\t},\n\t\t\t\t} = props;\n\t\t\n\t\t\t\treturn (\n\t\t\t\t\ttext && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<RawHTML>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( '<p>' + __( '<strong>%1$s</strong> <span>%2$s</span>', 'billy' ) + '</p>', ( label ? label : '' ), ( text ? text : __( 'N/A', 'billy' ) ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\t\t}\n\t],\n} );\n","/**\n * Invoice Information\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tDisabled,\n} from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/invoice-paymentinformation', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Payment Information', 'billy' ) ),\n\ticon: 'info', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Info', 'billy' ) }>\n\t\t\t\t\t\t<div className=\"components-notice\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( __( 'The %s values can be modified in the Theme Customizer.', 'billy' ), __( 'Payment Information', 'billy' ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender block=\"billy-blocks/invoice-paymentinformation\" />\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Invoice Table (Inner): Deprecated\n * https://developer.wordpress.org/block-editor/developers/block-api/block-deprecation\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\n\nconst deprecatedInvoiceInner = [\n\t// < v1.2.0 (202008)\n\t{\n\t\tattributes: {\n\t\t\tindex: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '0',\n\t\t\t},\n\t\t\tcurrency: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tdescription: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\ttaxRate: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamount: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountIncl: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tquantity: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tquantityRate: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t},\n\t\t\n\t\tsave: props => {\n\t\t\tconst {\n\t\t\t\tclassName,\n\t\t\t\tattributes: {\n\t\t\t\t\tindex,\n\t\t\t\t\tlocale,\n\t\t\t\t\tdescription,\n\t\t\t\t\ttaxRate,\n\t\t\t\t\tamount,\n\t\t\t\t},\n\t\t\t} = props;\n\t\n\t\t\treturn (\n\t\t\t\t<tr>\n\t\t\t\t\t<th scope=\"row\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t}\n\t\t\t\t\t</th>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdescription &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<RawHTML>{ description }</RawHTML>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tamount &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\tformatNumber( amount, locale )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t{\n\t\t\t\t\t\ttaxRate && ( percentToDecimal( taxRate ) * amount ) > 0 &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<RawHTML>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), formatNumber( ( percentToDecimal( taxRate ) * amount ), locale ), '<small>(' + taxRate + ')</small>' )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</tr>\n\t\t\t);\n\t\n\t\t},\n\t}\n];\n\nexport default deprecatedInvoiceInner;","/**\n * Invoice Table (Outer): Deprecated\n * https://developer.wordpress.org/block-editor/developers/block-api/block-deprecation\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n} from '@wordpress/blockEditor';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\n\nconst deprecatedInvoiceOuter = [\n\t// < v1.3.0 (202102)\n\t{\n\t\tattributes: {\n\t\t\tcurrency: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountSubtotal: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTotal: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\ttaxRates: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\ttaxRatesTotal: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t},\n\n\t\tsave: props => {\n\t\t\tconst {\n\t\t\t\tclassName,\n\t\t\t\tattributes: {\n\t\t\t\t\tcurrency,\n\t\t\t\t\tlocale,\n\t\t\t\t\tamountSubtotal,\n\t\t\t\t\tamountTotal,\n\t\t\t\t\ttaxRates,\n\t\t\t\t\ttaxRatesTotal,\n\t\t\t\t},\n\t\t\t} = props;\n\n\t\t\treturn (\n\t\t\t\t<div className={ 'invoicetable-block alignwide' + ( className ? ' ' + className : '' ) }>\n\n\t\t\t\t\t<table className=\"table wp-block-table\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t{ __( '#', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t{ __( 'Description', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t{ __( 'Amount', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"subtotal\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal ? __( 'Subtotal', 'billy' ) : __( 'Total', 'billy' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountSubtotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"taxrates\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t// Sort by Taxrate\n\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse( taxRates ).sort( ( a, b ) => ( percentToDecimal( a.taxRate ) - percentToDecimal( b.taxRate ) ) ).map( ( total, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( total.amount > 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RawHTML key={ i }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s %3$s', 'billy' ), currency, formatNumber( total.amount, locale ), '<small>(' + total.taxRate + ')</small>' + '<br>' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tamountTotal > amountSubtotal &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"total\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Total', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t</table>\n\n\t\t\t\t</div>\n\t\t\t);\n\n\t\t},\n\t}\n];\n\nexport default deprecatedInvoiceOuter;","/**\n * Invoice Table\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tInnerBlocks,\n} from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tTextControl,\n\tSelectControl,\n} from '@wordpress/components';\nimport {\n\tselect,\n\twithSelect,\n} from '@wordpress/data';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\nimport deprecatedInvoiceOuter from './deprecatedOuter';\nimport deprecatedInvoiceInner from './deprecatedInner';\n\n\n/**\n * 1. Outer Block\n */\n\nregisterBlockType( 'billy-blocks/invoice-table', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Table', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tattributes: {\n\t\tcurrency: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlocale: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountSubtotal: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountTotal: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\ttaxRates: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\ttaxRatesTotal: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select, { clientId } ) => {\n\t\tconst { getBlocksByClientId } = select( 'core/block-editor' );\n\n\t\tglobalDataBilly.clientId = clientId;\n\n\t\t// Get child blocks.\n\t\tconst childBlocks = ( null !== getBlocksByClientId( globalDataBilly.clientId )[ 0 ] ? getBlocksByClientId( globalDataBilly.clientId )[ 0 ].innerBlocks : null );\n\n\t\treturn {\n\t\t\tchildBlocks: childBlocks,\n\t\t};\n\t} )( props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tchildBlocks,\n\t\t\tattributes: {\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tamountSubtotal,\n\t\t\t\tamountTotal,\n\t\t\t\ttaxRates,\n\t\t\t\ttaxRatesTotal,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\t\t\n\t\t//console.log(childBlocks);\n\t\tsetAttributes( { currency: globalDataBilly.currency } );\n\t\tsetAttributes( { locale: globalDataBilly.locale } );\n\n\t\t// Onload \"once\": Calculate values and update attributes\n\t\tconst updateTotals = () => {\n\t\t\tvar amountSubtotalSum = 0,\n\t\t\t\tamountTotalSum = 0,\n\t\t\t\ttaxRatesTotalSum = 0,\n\t\t\t\ttaxRatesHolderOutput = [],\n\t\t\t\ttaxRatesMergedOutput = [];\n\t\t\t\n\t\t\t// Create values-array of child block attributes\n\t\t\tif ( childBlocks && childBlocks.length > 0 ) {\n\t\t\t\tchildBlocks.map( ( childBlock, i ) => {\n\t\t\t\t\t// 1. Sum of Subtotals\n\t\t\t\t\tamountSubtotalSum += Number( childBlock.attributes.amount );\n\t\t\t\t\t\n\t\t\t\t\t// 2. Sum of Totals\n\t\t\t\t\tamountTotalSum += Number( childBlock.attributes.amount ) + ( percentToDecimal( childBlock.attributes.taxRate ) * Number( childBlock.attributes.amount ) );\n\n\t\t\t\t\t// 3. Sum of Taxrates\n\t\t\t\t\ttaxRatesHolderOutput.push( { taxRate: childBlock.attributes.taxRate, amount: ( percentToDecimal( childBlock.attributes.taxRate ) * Number( childBlock.attributes.amount ) ) } );\n\t\t\t\t} );\n\n\t\t\t\tif ( taxRatesHolderOutput.length > 0 ) {\n\t\t\t\t\t// Sum up Tax amount\n\t\t\t\t\ttaxRatesTotalSum = taxRatesHolderOutput.reduce( function ( res, value ) {\n\t\t\t\t\t\treturn res + value.amount;\n\t\t\t\t\t}, 0 );\n\t\t\t\t\ttaxRatesTotalSum = Number( taxRatesTotalSum.toFixed( 2 ) );\n\n\t\t\t\t\t// Merge same Taxrates\n\t\t\t\t\ttaxRatesHolderOutput.reduce( function ( res, value ) {\n\t\t\t\t\t\tif ( !res[ value.taxRate ] ) {\n\t\t\t\t\t\t\tres[ value.taxRate ] = { taxRate: value.taxRate, amount: 0 };\n\t\t\t\t\t\t\ttaxRatesMergedOutput.push( res[ value.taxRate ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres[ value.taxRate ].amount += value.amount;\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t}, {} );\n\t\t\t\t}\n\n\t\t\t\tsetAttributes( { taxRatesTotal: taxRatesTotalSum } );\n\t\t\t\tsetAttributes( { taxRates: JSON.stringify( taxRatesMergedOutput ) } );\n\n\t\t\t\tsetAttributes( { amountSubtotal: amountSubtotalSum } );\n\t\t\t\tsetAttributes( { amountTotal: amountTotalSum } );\n\t\t\t}\n\t\t}\n\t\tupdateTotals();\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<div className={ 'invoicetable-block' + ( className ? ' ' + className : '' ) }>\n\t\t\t\t<InnerBlocks\n\t\t\t\t\ttemplateLock={ false }\n\t\t\t\t\ttemplate={ [\n\t\t\t\t\t\t[ 'billy-blocks/invoice-tablerow', {\n\t\t\t\t\t\t\t//placeholder: 'Enter content',\n\t\t\t\t\t\t} ],\n\t\t\t\t\t] }\n\t\t\t\t\tallowedBlocks={ [\n\t\t\t\t\t\t'billy-blocks/invoice-tablerow',\n\t\t\t\t\t] }\n\t\t\t\t/>\n\n\t\t\t\t{\n\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t<table className=\"totals\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t<tr className=\"subtotal\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal ? __( 'Subtotal', 'billy' ) : __( 'Total', 'billy' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountSubtotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t<tr className=\"taxRates\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Sort by Taxrate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse( taxRates ).sort( ( a, b ) => ( percentToDecimal( a.taxRate ) - percentToDecimal( b.taxRate ) ) ).map( ( total, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( total.amount > 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RawHTML key={ i }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s %3$s', 'billy' ), currency, formatNumber( total.amount, locale ), '<small>(' + total.taxRate + ')</small>' + '<br>' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal &&\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t<tr className=\"total\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Total', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\t<button id=\"updatetotals\" className=\"components-button is-secondary is-button\" onClick={ updateTotals } style={ { display: ( amountSubtotal > 0 ? 'block' : 'none' ) } }>\n\t\t\t\t\t{\n\t\t\t\t\t\t__( 'Update Totals', 'billy' )\n\t\t\t\t\t}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tamountSubtotal,\n\t\t\t\tamountTotal,\n\t\t\t\ttaxRates,\n\t\t\t\ttaxRatesTotal,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\t<div className={ 'invoicetable-block alignwide' + ( className ? ' ' + className : '' ) }>\n\n\t\t\t\t<table className=\"table wp-block-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ __( '#', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ __( 'Description', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ __( 'Amount', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t</tbody>\n\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"subtotal\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"align-right\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal ? __( 'Subtotal', 'billy' ) : __( 'Total', 'billy' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td colSpan={ ( taxRates && taxRatesTotal > 0 ? '2' : null ) }>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountSubtotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"taxrates\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"align-right\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td colSpan={ ( taxRates && taxRatesTotal > 0 ? '2' : null ) }>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t// Sort by Taxrate\n\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse( taxRates ).sort( ( a, b ) => ( percentToDecimal( a.taxRate ) - percentToDecimal( b.taxRate ) ) ).map( ( total, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( total.amount > 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RawHTML key={ i }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s %3$s', 'billy' ), currency, formatNumber( total.amount, locale ), '<small>(' + total.taxRate + ')</small>' + '<br>' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tamountTotal > amountSubtotal &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"total\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"align-right\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Total', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td colSpan={ ( taxRates && taxRatesTotal > 0 ? '2' : null ) }>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</tfoot>\n\t\t\t\t</table>\n\n\t\t\t</div>\n\t\t);\n\t},\n\n\tdeprecated: deprecatedInvoiceOuter,\n} );\n\n\n/**\n * 2. Inner Block\n */\n\nregisterBlockType( 'billy-blocks/invoice-tablerow', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Invoice', 'billy' ), __( 'Table Row', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tparent: [ 'billy-blocks/invoice-table' ], // Only allow in outer block\n\tattributes: {\n\t\tindex: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '0',\n\t\t},\n\t\tcurrency: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlocale: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\ttaxRate: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tamount: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountIncl: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tquantity: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tquantityRate: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select, { clientId } ) => {\n\t\tconst {\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockIndex,\n\t\t} = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\ti: getBlockIndex( clientId, getBlockRootClientId( clientId ) ) + 1,\n\t\t}\n\t} )( props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\ti,\n\t\t\tattributes: {\n\t\t\t\tindex,\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tdescription, // < v1.2.0\n\t\t\t\ttaxRate,\n\t\t\t\tamount,\n\t\t\t\tamountIncl,\n\t\t\t\tquantity,\n\t\t\t\tquantityRate,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tsetAttributes( { index: i } );\n\t\tsetAttributes( { currency: globalDataBilly.currency } );\n\t\tsetAttributes( { locale: globalDataBilly.locale } );\n\n\t\tif ( '' === taxRate ) {\n\t\t\tsetAttributes( { taxRate: ( 0 === globalDataBilly.taxOptions.length ? '0%' : globalDataBilly.taxOptions[ 0 ].value ) } );\n\t\t}\n\n\t\tconst updateAmountIncl = val => {\n\t\t\tsetAttributes( { amountIncl: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\t// Recalculate totals on edit\n\t\t\tsetTimeout( () => {\n\t\t\t\tdocument.getElementById( \"updatetotals\" ).click();\n\t\t\t}, 1 );\n\t\t}\n\n\t\tconst updateTaxRate = val => {\n\t\t\tsetAttributes( { taxRate: val } );\n\n\t\t\tupdateAmountIncl( Number( amount ) + ( Number( amount ) * percentToDecimal( val ) ) );\n\t\t}\n\n\t\tconst updateAmount = val => {\n\t\t\tsetAttributes( { amount: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateAmountIncl( Number( val ) + ( Number( val ) * percentToDecimal( taxRate ) ) );\n\t\t}\n\n\t\tconst updateQuantity = val => {\n\t\t\tsetAttributes( { quantity: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateAmount( Number( val ) * Number( quantityRate ) );\n\t\t}\n\n\t\tconst updateQuantityRate = val => {\n\t\t\tsetAttributes( { quantityRate: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateAmount( Number( quantity ) * Number( val ) );\n\t\t}\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Quantity/Rate Calculator', 'billy' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tlabel={ __( 'Quantity', 'billy' ) }\n\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\tvalue={ quantity }\n\t\t\t\t\t\t\tonChange={ updateQuantity }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Rate', 'billy' ), currency ) }\n\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\tvalue={ quantityRate }\n\t\t\t\t\t\t\tonChange={ updateQuantityRate }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th className=\"index\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<td style={ { width: '30vw', minWidth: '200px' } }>\n\t\t\t\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\t\t\t\ttemplate={ [\n\t\t\t\t\t\t\t\t\t\t[ 'core/paragraph', {\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: __( 'Add content', 'billy' ),\n\t\t\t\t\t\t\t\t\t\t\tcontent: ( description ? description : '' ), // < v1.2.0\n\t\t\t\t\t\t\t\t\t\t} ],\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t\tallowedBlocks={ [\n\t\t\t\t\t\t\t\t\t\t'core/heading',\n\t\t\t\t\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t\t\t\t\t'core/list',\n\t\t\t\t\t\t\t\t\t\t'core/html',\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Amount', 'billy' ), currency ) }\n\t\t\t\t\t\t\t\t\tclassName=\"amount\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\t\t\tvalue={ amount }\n\t\t\t\t\t\t\t\t\tonChange={ updateAmount }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tclassName=\"taxrate\"\n\t\t\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Tax', 'billy' ), '%' ) }\n\t\t\t\t\t\t\t\t\tvalue={ taxRate }\n\t\t\t\t\t\t\t\t\toptions={ ( 0 !== globalDataBilly.taxOptions.length ? globalDataBilly.taxOptions : ( '0%' !== taxRate && 0 === globalDataBilly.taxOptions.length ? [ { label: taxRate, value: taxRate }, { label: '0%', value: '0%' } ] : '' ) ) }\n\t\t\t\t\t\t\t\t\tonChange={ updateTaxRate }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tdisabled=\"disabled\"\n\t\t\t\t\t\t\t\t\tlabel={ currency }\n\t\t\t\t\t\t\t\t\tclassName=\"amount-tax\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\t\t\tvalue={ amountIncl }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tindex,\n\t\t\t\tlocale,\n\t\t\t\ttaxRate,\n\t\t\t\tamount,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\t<tr>\n\t\t\t\t<th scope=\"row\">\n\t\t\t\t\t{\n\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\tindex\n\t\t\t\t\t}\n\t\t\t\t</th>\n\t\t\t\t<td>\n\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{\n\t\t\t\t\t\tamount &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tformatNumber( amount, locale )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t\t{\n\t\t\t\t\ttaxRate && ( percentToDecimal( taxRate ) * amount ) > 0 &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<RawHTML>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), formatNumber( ( percentToDecimal( taxRate ) * amount ), locale ), '<small>(' + taxRate + ')</small>' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</tr>\n\t\t);\n\t},\n\n\tdeprecated: deprecatedInvoiceInner,\n} );\n","/**\n * Quote Actions\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\tregisterBlockType,\n} from '@wordpress/blocks';\nimport {\n\t__,\n\t_n,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\twithSelect,\n} from '@wordpress/data';\n\n\nregisterBlockType( 'billy-blocks/quote-actions', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Quote', 'billy' ), __( 'Actions', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostModifiedDate: select( 'core/editor' ).getEditedPostAttribute( 'modified' ),\n\t\t};\n\t} )( props => {\n\t\tconst {\n\t\t\tpostModifiedDate,\n\t\t} = props;\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<div className=\"components-placeholder\" style={ { minHeight: 'auto' } }>\n\t\t\t\t<small>\n\t\t\t\t\t{\n\t\t\t\t\t\tsprintf( __( '%1$s: %2$s', 'billy' ), __( 'Last modified', 'billy' ), new Date( postModifiedDate ).toLocaleString() )\n\t\t\t\t\t}\n\t\t\t\t</small>\n\t\t\t</div>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\treturn null;\n\t},\n} );\n","/**\n * Quote Date\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/quote-date', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Quote', 'billy' ), __( 'Date', 'billy' ) ),\n\ticon: 'calendar-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<ServerSideRender block=\"billy-blocks/quote-date\" />\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Quote Information\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport { PanelBody } from '@wordpress/components';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/quote-information', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Quote', 'billy' ), __( 'Information', 'billy' ) ),\n\ticon: 'info', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Info', 'billy' ) }>\n\t\t\t\t\t\t<div className=\"components-notice\">\n\t\t\t\t\t\t\t<div className=\"components-notice__content\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( __( 'The %s values can be modified in the Theme Customizer.', 'billy' ), __( 'Quote Information', 'billy' ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t\n\t\t\t\t<ServerSideRender block=\"billy-blocks/quote-information\" />\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","/**\n * Meta Field\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/blockEditor';\nimport {\n\tTextControl,\n\tPanelBody,\n} from '@wordpress/components';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n\nregisterBlockType( 'billy-blocks/quote-meta', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Quote', 'billy' ), __( 'Meta', 'billy' ) ),\n\ticon: 'editor-textcolor', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tattributes: {\n\t\tlabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\ttext: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tlabel,\n\t\t\t\ttext,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tconst updateLabel = val => {\n\t\t\tsetAttributes( { label: val } );\n\t\t}\n\n\t\tconst updateInput = val => {\n\t\t\tsetAttributes( { text: val } );\n\t\t}\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Label', 'billy' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"label\"\n\t\t\t\t\t\t\tvalue={ label }\n\t\t\t\t\t\t\tonChange={ updateLabel }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody title={ __( 'Text', 'billy' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"text\"\n\t\t\t\t\t\t\tvalue={ text }\n\t\t\t\t\t\t\tonChange={ updateInput }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<RawHTML>\n\t\t\t\t\t{\n\t\t\t\t\t\tsprintf( __( '<div class=\"label\">%1$s</div> <div class=\"text\">%2$s</div>', 'billy' ), ( label ? label : '' ), ( text ? text : __( 'N/A', 'billy' ) ) )\n\t\t\t\t\t}\n\t\t\t\t</RawHTML>\n\t\t\t</>\n\t\t);\n\t},\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tlabel,\n\t\t\t\ttext,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\ttext && (\n\t\t\t\t<RawHTML>\n\t\t\t\t\t{\n\t\t\t\t\t\tsprintf( __( '<div class=\"label\">%1$s</div> <div class=\"text\">%2$s</div>', 'billy' ), ( label ? label : '' ), ( text ? text : __( 'N/A', 'billy' ) ) )\n\t\t\t\t\t}\n\t\t\t\t</RawHTML>\n\t\t\t)\n\t\t);\n\t},\n\n\tdeprecated: [\n\t\t// < v1.2.3 (202012)\n\t\t{\n\t\t\tattributes: {\n\t\t\t\tlabel: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t\ttext: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdefault: '',\n\t\t\t\t},\n\t\t\t},\n\t\t\t\n\t\t\tsave: props => {\n\t\t\t\tconst {\n\t\t\t\t\tclassName,\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\ttext,\n\t\t\t\t\t},\n\t\t\t\t} = props;\n\t\t\n\t\t\t\treturn (\n\t\t\t\t\ttext && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<RawHTML>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsprintf( '<p>' + __( '<strong>%1$s</strong> <span>%2$s</span>', 'billy' ) + '</p>', ( label ? label : '' ), ( text ? text : __( 'N/A', 'billy' ) ) )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t},\n\t\t}\n\t],\n} );\n","/**\n * Quote Table (Inner): Deprecated\n * https://developer.wordpress.org/block-editor/developers/block-api/block-deprecation\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\n\nconst deprecatedQuoteInner = [\n\t// < v1.2.0 (20200824)\n\t{\n\t\tattributes: {\n\t\t\tindex: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '0',\n\t\t\t},\n\t\t\tcurrency: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tdescription: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\ttaxRate: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamount: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountIncl: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tquantity: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tquantityRate: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t},\n\t\t\n\t\tsave: props => {\n\t\t\tconst {\n\t\t\t\tclassName,\n\t\t\t\tattributes: {\n\t\t\t\t\tindex,\n\t\t\t\t\tlocale,\n\t\t\t\t\tdescription,\n\t\t\t\t\ttaxRate,\n\t\t\t\t\tamount,\n\t\t\t\t},\n\t\t\t} = props;\n\t\n\t\t\treturn (\n\t\t\t\t<tr>\n\t\t\t\t\t<th scope=\"row\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t}\n\t\t\t\t\t</th>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdescription &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<RawHTML>{ description }</RawHTML>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tamount &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\tformatNumber( amount, locale )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t{\n\t\t\t\t\t\ttaxRate && ( percentToDecimal( taxRate ) * amount ) > 0 &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<RawHTML>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), formatNumber( ( percentToDecimal( taxRate ) * amount ), locale ), '<small>(' + taxRate + ')</small>' )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</tr>\n\t\t\t);\n\t\n\t\t},\n\t}\n];\n\nexport default deprecatedQuoteInner;","/**\n * Quote Table (Outer): Deprecated\n * https://developer.wordpress.org/block-editor/developers/block-api/block-deprecation\n */\n\n/**\n * WordPress dependencies\n */\n\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tInnerBlocks,\n} from '@wordpress/blockEditor';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\n\nconst deprecatedQuoteOuter = [\n\t// < v1.3.0 (202102)\n\t{\n\t\tattributes: {\n\t\t\tcurrency: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tlocale: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountSubtotal: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\tamountTotal: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\ttaxRates: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t\ttaxRatesTotal: {\n\t\t\t\ttype: 'number',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t},\n\t\t\n\t\tsave: props => {\n\t\t\tconst {\n\t\t\t\tclassName,\n\t\t\t\tattributes: {\n\t\t\t\t\tcurrency,\n\t\t\t\t\tlocale,\n\t\t\t\t\tamountSubtotal,\n\t\t\t\t\tamountTotal,\n\t\t\t\t\ttaxRates,\n\t\t\t\t\ttaxRatesTotal,\n\t\t\t\t},\n\t\t\t} = props;\n\t\n\t\t\treturn (\n\t\t\t\t<div className={ 'quotetable-block alignwide' + ( className ? ' ' + className : '' ) }>\n\t\n\t\t\t\t\t<table className=\"table wp-block-table\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t{ __( '#', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t{ __( 'Description', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t{ __( 'Amount', 'billy' ) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr className=\"subtotal\">\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal ? __( 'Subtotal', 'billy' ) : __( 'Total', 'billy' )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountSubtotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr className=\"taxrates\">\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Sort by Taxrate\n\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse( taxRates ).sort( ( a, b ) => ( percentToDecimal( a.taxRate ) - percentToDecimal( b.taxRate ) ) ).map( ( total, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( total.amount > 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RawHTML key={ i }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s %3$s', 'billy' ), currency, formatNumber( total.amount, locale ), '<small>(' + total.taxRate + ')</small>' + '<br>' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tamountTotal > amountSubtotal &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<tr className=\"total\">\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Total', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t</table>\n\t\n\t\t\t\t</div>\n\t\t\t);\n\t\n\t\t},\n\t}\n];\n\nexport default deprecatedQuoteOuter;","/**\n * Quote Table\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport {\n\tInspectorControls,\n\tInnerBlocks,\n} from '@wordpress/blockEditor';\nimport {\n\tPanelBody,\n\tTextControl,\n\tSelectControl,\n} from '@wordpress/components';\nimport {\n\tselect,\n\twithSelect,\n} from '@wordpress/data';\nimport {\n\tRawHTML,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\n\nimport {\n\tformatNumber,\n\tpercentToDecimal,\n} from '../../functions';\n\nimport deprecatedQuoteOuter from './deprecatedOuter';\nimport deprecatedQuoteInner from './deprecatedInner';\n\n\n/**\n * 1. Outer Block\n */\n\nregisterBlockType( 'billy-blocks/quote-table', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Quote', 'billy' ), __( 'Table', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tattributes: {\n\t\tcurrency: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlocale: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountSubtotal: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountTotal: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\ttaxRates: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\ttaxRatesTotal: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select, { clientId } ) => {\n\t\tconst { getBlocksByClientId } = select( 'core/block-editor' );\n\n\t\tglobalDataBilly.clientId = clientId;\n\n\t\t// Get child blocks.\n\t\tconst childBlocks = ( null !== getBlocksByClientId( globalDataBilly.clientId )[ 0 ] ? getBlocksByClientId( globalDataBilly.clientId )[ 0 ].innerBlocks : null );\n\n\t\treturn {\n\t\t\tchildBlocks: childBlocks,\n\t\t};\n\t} )( props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tchildBlocks,\n\t\t\tattributes: {\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tamountSubtotal,\n\t\t\t\tamountTotal,\n\t\t\t\ttaxRates,\n\t\t\t\ttaxRatesTotal,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\t//console.log(childBlocks);\n\t\tsetAttributes( { currency: globalDataBilly.currency } );\n\t\tsetAttributes( { locale: globalDataBilly.locale } );\n\n\t\t// Onload \"once\": Calculate values and update attributes\n\t\tconst updateTotals = () => {\n\t\t\tvar amountSubtotalSum = 0,\n\t\t\t\tamountTotalSum = 0,\n\t\t\t\ttaxRatesTotalSum = 0,\n\t\t\t\ttaxRatesHolderOutput = [],\n\t\t\t\ttaxRatesMergedOutput = [];\n\t\t\t\n\t\t\t// Create values-array of child block attributes\n\t\t\tif ( childBlocks && childBlocks.length > 0 ) {\n\t\t\t\tchildBlocks.map( ( childBlock, i ) => {\n\t\t\t\t\t// 1. Sum of Subtotals\n\t\t\t\t\tamountSubtotalSum += Number( childBlock.attributes.amount );\n\t\t\t\t\t\n\t\t\t\t\t// 2. Sum of Totals\n\t\t\t\t\tamountTotalSum += Number( childBlock.attributes.amount ) + ( percentToDecimal( childBlock.attributes.taxRate ) * Number( childBlock.attributes.amount ) );\n\n\t\t\t\t\t// 3. Sum of Taxrates\n\t\t\t\t\ttaxRatesHolderOutput.push( { taxRate: childBlock.attributes.taxRate, amount: ( percentToDecimal( childBlock.attributes.taxRate ) * Number( childBlock.attributes.amount ) ) } );\n\t\t\t\t} );\n\n\t\t\t\tif ( taxRatesHolderOutput.length > 0 ) {\n\t\t\t\t\t// Sum up Tax amount\n\t\t\t\t\ttaxRatesTotalSum = taxRatesHolderOutput.reduce( function ( res, value ) {\n\t\t\t\t\t\treturn res + value.amount;\n\t\t\t\t\t}, 0 );\n\t\t\t\t\ttaxRatesTotalSum = Number( taxRatesTotalSum.toFixed( 2 ) );\n\n\t\t\t\t\t// Merge same Taxrates\n\t\t\t\t\ttaxRatesHolderOutput.reduce( function ( res, value ) {\n\t\t\t\t\t\tif ( !res[ value.taxRate ] ) {\n\t\t\t\t\t\t\tres[ value.taxRate ] = { taxRate: value.taxRate, amount: 0 };\n\t\t\t\t\t\t\ttaxRatesMergedOutput.push( res[ value.taxRate ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tres[ value.taxRate ].amount += value.amount;\n\t\t\t\t\t\treturn res;\n\t\t\t\t\t}, {} );\n\t\t\t\t}\n\n\t\t\t\tsetAttributes( { taxRatesTotal: taxRatesTotalSum } );\n\t\t\t\tsetAttributes( { taxRates: JSON.stringify( taxRatesMergedOutput ) } );\n\n\t\t\t\tsetAttributes( { amountSubtotal: amountSubtotalSum } );\n\t\t\t\tsetAttributes( { amountTotal: amountTotalSum } );\n\t\t\t}\n\t\t}\n\t\tupdateTotals();\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<div className={ 'quotetable-block' + ( className ? ' ' + className : '' ) }>\n\t\t\t\t<InnerBlocks\n\t\t\t\t\ttemplateLock={ false }\n\t\t\t\t\ttemplate={ [\n\t\t\t\t\t\t[ 'billy-blocks/quote-tablerow', {\n\t\t\t\t\t\t\t//placeholder: 'Enter content',\n\t\t\t\t\t\t} ],\n\t\t\t\t\t] }\n\t\t\t\t\tallowedBlocks={ [\n\t\t\t\t\t\t'billy-blocks/quote-tablerow',\n\t\t\t\t\t] }\n\t\t\t\t/>\n\n\t\t\t\t{\n\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t<table className=\"totals\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t<tr className=\"subtotal\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal ? __( 'Subtotal', 'billy' ) : __( 'Total', 'billy' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountSubtotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t<tr className=\"taxRates\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Sort by Taxrate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse( taxRates ).sort( ( a, b ) => ( percentToDecimal( a.taxRate ) - percentToDecimal( b.taxRate ) ) ).map( ( total, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( total.amount > 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RawHTML key={ i }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s %3$s', 'billy' ), currency, formatNumber( total.amount, locale ), '<small>(' + total.taxRate + ')</small>' + '<br>' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal &&\n\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t<tr className=\"total\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td style={ { width: '50%' } }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'Total', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\t<button id=\"updatetotals\" className=\"components-button is-secondary is-button\" onClick={ updateTotals } style={ { display: ( amountSubtotal > 0 ? 'block' : 'none' ) } }>\n\t\t\t\t\t{\n\t\t\t\t\t\t__( 'Update Totals', 'billy' )\n\t\t\t\t\t}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tamountSubtotal,\n\t\t\t\tamountTotal,\n\t\t\t\ttaxRates,\n\t\t\t\ttaxRatesTotal,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\t<div className={ 'quotetable-block alignwide' + ( className ? ' ' + className : '' ) }>\n\n\t\t\t\t<table className=\"table wp-block-table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ __( '#', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ __( 'Description', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t{ __( 'Amount', 'billy' ) }\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t\t</tbody>\n\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tamountSubtotal > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"subtotal\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"align-right\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tamountTotal > amountSubtotal ? __( 'Subtotal', 'billy' ) : __( 'Total', 'billy' )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td colSpan={ ( taxRates && taxRatesTotal > 0 ? '2' : null ) }>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountSubtotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttaxRates && taxRatesTotal > 0 &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"taxrates\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"align-right\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Tax', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td colSpan={ ( taxRates && taxRatesTotal > 0 ? '2' : null ) }>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t// Sort by Taxrate\n\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse( taxRates ).sort( ( a, b ) => ( percentToDecimal( a.taxRate ) - percentToDecimal( b.taxRate ) ) ).map( ( total, i ) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( total.amount > 0 ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RawHTML key={ i }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s %3$s', 'billy' ), currency, formatNumber( total.amount, locale ), '<small>(' + total.taxRate + ')</small>' + '<br>' )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tamountTotal > amountSubtotal &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t<tr className=\"total\">\n\t\t\t\t\t\t\t\t\t\t<td colSpan=\"2\" className=\"align-right\">\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Total', 'billy' ) }\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t<td colSpan={ ( taxRates && taxRatesTotal > 0 ? '2' : null ) }>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), currency, formatNumber( amountTotal, locale ) )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</tfoot>\n\t\t\t\t</table>\n\n\t\t\t</div>\n\t\t);\n\t},\n\n\tdeprecated: deprecatedQuoteOuter,\n} );\n\n\n/**\n * 2. Inner Block\n */\n\nregisterBlockType( 'billy-blocks/quote-tablerow', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Quote', 'billy' ), __( 'Table Row', 'billy' ) ),\n\ticon: 'menu-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tparent: [ 'billy-blocks/quote-table' ], // Only allow in outer block\n\tattributes: {\n\t\tindex: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '0',\n\t\t},\n\t\tcurrency: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlocale: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\ttaxRate: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tamount: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tamountIncl: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tquantity: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t\tquantityRate: {\n\t\t\ttype: 'number',\n\t\t\tdefault: '',\n\t\t},\n\t},\n\n\tgetEditWrapperProps() {\n\t\treturn { 'data-align': 'wide' };\n\t},\n\n\tedit: withSelect( ( select, { clientId } ) => {\n\t\tconst {\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlockIndex,\n\t\t} = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\ti: getBlockIndex( clientId, getBlockRootClientId( clientId ) ) + 1,\n\t\t}\n\t} )( props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\ti,\n\t\t\tattributes: {\n\t\t\t\tindex,\n\t\t\t\tcurrency,\n\t\t\t\tlocale,\n\t\t\t\tdescription, // < v1.2.0\n\t\t\t\ttaxRate,\n\t\t\t\tamount,\n\t\t\t\tamountIncl,\n\t\t\t\tquantity,\n\t\t\t\tquantityRate,\n\t\t\t},\n\t\t\tsetAttributes,\n\t\t} = props;\n\n\t\tsetAttributes( { index: i } );\n\t\tsetAttributes( { currency: globalDataBilly.currency } );\n\t\tsetAttributes( { locale: globalDataBilly.locale } );\n\n\t\tif ( '' === taxRate ) {\n\t\t\tsetAttributes( { taxRate: ( 0 === globalDataBilly.taxOptions.length ? '0%' : globalDataBilly.taxOptions[ 0 ].value ) } );\n\t\t}\n\n\t\tconst updateAmountIncl = val => {\n\t\t\tsetAttributes( { amountIncl: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\t// Recalculate totals on edit\n\t\t\tsetTimeout( () => {\n\t\t\t\tdocument.getElementById( \"updatetotals\" ).click();\n\t\t\t}, 1 );\n\t\t}\n\n\t\tconst updateTaxRate = val => {\n\t\t\tsetAttributes( { taxRate: val } );\n\n\t\t\tupdateAmountIncl( Number( amount ) + ( Number( amount ) * percentToDecimal( val ) ) );\n\t\t}\n\n\t\tconst updateAmount = val => {\n\t\t\tsetAttributes( { amount: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateAmountIncl( Number( val ) + ( Number( val ) * percentToDecimal( taxRate ) ) );\n\t\t}\n\n\t\tconst updateQuantity = val => {\n\t\t\tsetAttributes( { quantity: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateAmount( Number( val ) * Number( quantityRate ) );\n\t\t}\n\n\t\tconst updateQuantityRate = val => {\n\t\t\tsetAttributes( { quantityRate: ( val > 0 ? Number( val ) : '' ) } );\n\n\t\t\tupdateAmount( Number( quantity ) * Number( val ) );\n\t\t}\n\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'Quantity/Rate Calculator', 'billy' ) }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tlabel={ __( 'Quantity', 'billy' ) }\n\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\tvalue={ quantity }\n\t\t\t\t\t\t\tonChange={ updateQuantity }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Rate', 'billy' ), currency ) }\n\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\tvalue={ quantityRate }\n\t\t\t\t\t\t\tonChange={ updateQuantityRate }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\n\t\t\t\t<table>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th className=\"index\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t<td style={ { width: '30vw', minWidth: '200px' } }>\n\t\t\t\t\t\t\t\t<InnerBlocks\n\t\t\t\t\t\t\t\t\ttemplate={ [\n\t\t\t\t\t\t\t\t\t\t[ 'core/paragraph', {\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: __( 'Add content', 'billy' ),\n\t\t\t\t\t\t\t\t\t\t\tcontent: ( description ? description : '' ), // < v1.2.0\n\t\t\t\t\t\t\t\t\t\t} ],\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t\tallowedBlocks={ [\n\t\t\t\t\t\t\t\t\t\t'core/heading',\n\t\t\t\t\t\t\t\t\t\t'core/paragraph',\n\t\t\t\t\t\t\t\t\t\t'core/list',\n\t\t\t\t\t\t\t\t\t\t'core/html',\n\t\t\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Amount', 'billy' ), currency ) }\n\t\t\t\t\t\t\t\t\tclassName=\"amount\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\t\t\tvalue={ amount }\n\t\t\t\t\t\t\t\t\tonChange={ updateAmount }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\tclassName=\"taxrate\"\n\t\t\t\t\t\t\t\t\tlabel={ sprintf( __( '%1$s in %2$s', 'billy' ), __( 'Tax', 'billy' ), '%' ) }\n\t\t\t\t\t\t\t\t\tvalue={ taxRate }\n\t\t\t\t\t\t\t\t\toptions={ ( 0 !== globalDataBilly.taxOptions.length ? globalDataBilly.taxOptions : ( '0%' !== taxRate && 0 === globalDataBilly.taxOptions.length ? [ { label: taxRate, value: taxRate }, { label: '0%', value: '0%' } ] : '' ) ) }\n\t\t\t\t\t\t\t\t\tonChange={ updateTaxRate }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tdisabled=\"disabled\"\n\t\t\t\t\t\t\t\t\tlabel={ currency }\n\t\t\t\t\t\t\t\t\tclassName=\"amount-tax\"\n\t\t\t\t\t\t\t\t\tplaceholder={ __( '0', 'billy' ) }\n\t\t\t\t\t\t\t\t\tvalue={ amountIncl }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</>\n\t\t);\n\t} ),\n\n\tsave: props => {\n\t\tconst {\n\t\t\tclassName,\n\t\t\tattributes: {\n\t\t\t\tindex,\n\t\t\t\tlocale,\n\t\t\t\ttaxRate,\n\t\t\t\tamount,\n\t\t\t},\n\t\t} = props;\n\n\t\treturn (\n\t\t\t<tr>\n\t\t\t\t<th scope=\"row\">\n\t\t\t\t\t{\n\t\t\t\t\t\tindex &&\n\t\t\t\t\t\t\tindex\n\t\t\t\t\t}\n\t\t\t\t</th>\n\t\t\t\t<td>\n\t\t\t\t\t<InnerBlocks.Content />\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{\n\t\t\t\t\t\tamount &&\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tformatNumber( amount, locale )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t\t{\n\t\t\t\t\ttaxRate && ( percentToDecimal( taxRate ) * amount ) > 0 &&\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<RawHTML>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tsprintf( __( '%1$s %2$s', 'billy' ), formatNumber( ( percentToDecimal( taxRate ) * amount ), locale ), '<small>(' + taxRate + ')</small>' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</RawHTML>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</tr>\n\t\t);\n\t},\n\n\tdeprecated: deprecatedQuoteInner,\n} );\n","/**\n * Quote Valid Until Date\n * https://wordpress.org/gutenberg/handbook/designers-developers/developers/tutorials/block-tutorial/writing-your-first-block-type\n */\n\n/**\n * WordPress dependencies\n */\n\nimport { registerBlockType } from '@wordpress/blocks';\nimport {\n\t__,\n\tsprintf\n} from '@wordpress/i18n';\nimport ServerSideRender from '@wordpress/server-side-render';\n\n\nregisterBlockType( 'billy-blocks/quote-validuntildate', {\n\ttitle: sprintf( __( '%1$s: %2$s', 'billy' ), __( 'Quote', 'billy' ), __( 'Valid Until', 'billy' ) ),\n\ticon: 'calendar-alt', // https://developer.wordpress.org/resource/dashicons\n\tcategory: 'billy-blocks', // Custom category: see index.php\n\tsupports: {\n\t\tinserter: false,\n\t\treusable: false,\n\t\thtml: false,\n\t},\n\n\tedit: props => {\n\t\t// Markup: Backend\n\t\treturn (\n\t\t\t<ServerSideRender block=\"billy-blocks/quote-validuntildate\" />\n\t\t);\n\t},\n\n\tsave: props => {\n\t\t// Handled by PHP.\n\t\treturn null;\n\t},\n} );\n","export const getCurrency = () => {\n\treturn globalDataBilly.currency;\n}\n\nexport const formatNumber = ( val, l = undefined ) => {\n\treturn val.toLocaleString( l, { 'minimumFractionDigits': 2, 'maximumFractionDigits': 2 } );\n}\n\nexport const percentToDecimal = val => {\n\treturn parseFloat( val ) / 100;\n}\n\nexport const getQuarter = d => {\n\td = new Date( d ) || new Date();\n\tvar q = [ 1, 2, 3, 4 ];\n\treturn q[ Math.floor( d.getMonth() / 3 ) ];\n}\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"serverSideRender\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Import blocks\n */\n\n// Basic\nimport './_header/header/index';\nimport './_header/theme-mod/index';\n\nimport './_invoice/actions/index';\nimport './_invoice/meta/index';\nimport './_invoice/date/index';\nimport './_invoice/duedate/index';\nimport './_invoice/invoice-number/index';\nimport './_invoice/paymentinformation/index';\nimport './_invoice/table/index';\n\nimport './_quote/actions/index';\nimport './_quote/meta/index';\nimport './_quote/date/index';\nimport './_quote/information/index';\nimport './_quote/table/index';\nimport './_quote/validuntildate/index';\n\nimport './_accounting/table/index';\nimport './_accounting/actions/index';\n"],"names":["registerBlockType","__","_n","sprintf","withSelect","title","icon","category","supports","inserter","reusable","html","getEditWrapperProps","edit","select","postModifiedDate","getEditedPostAttribute","props","minHeight","Date","toLocaleString","save","formatNumber","percentToDecimal","deprecatedAccountingInner","attributes","index","type","default","currency","locale","date","quarter","reference","description","earning","expense","tax","postUUID","postTitle","postLink","postType","className","toISOString","substring","InnerBlocks","deprecatedAccountingOuter","amountTotalEarnings","amountTotalExpenses","amountTaxEarnings","amountTaxExpenses","InspectorControls","PanelBody","TextControl","DatePicker","dispatch","getQuarter","updateTotals","clientId","getBlocksByClientId","globalDataBilly","childBlocks","innerBlocks","sort","a","b","setAttributes","amountEarningsSum","amountExpensesSum","amountTaxEarningsSum","amountTaxExpensesSum","length","forEach","childBlock","Number","width","borderTop","deprecated","parent","getBlockRootClientId","getBlockIndex","rootClientId","i","reOrder","moveBlockToPosition","updateQuarter","val","updateDate","updateReference","updateEarning","updateExpense","updateTax","charAt","toUpperCase","minWidth","placeholder","content","Disabled","ServerSideRender","wpAdmin","SelectControl","themeMod","updateThemeMod","themeModOptions","RawHTML","label","text","updateLabel","updateInput","deprecatedInvoiceInner","taxRate","amount","amountIncl","quantity","quantityRate","deprecatedInvoiceOuter","amountSubtotal","amountTotal","taxRates","taxRatesTotal","JSON","parse","map","total","amountSubtotalSum","amountTotalSum","taxRatesTotalSum","taxRatesHolderOutput","taxRatesMergedOutput","push","reduce","res","value","toFixed","stringify","display","taxOptions","updateAmountIncl","setTimeout","document","getElementById","click","updateTaxRate","updateAmount","updateQuantity","updateQuantityRate","deprecatedQuoteInner","deprecatedQuoteOuter","getCurrency","l","undefined","parseFloat","d","q","Math","floor","getMonth"],"sourceRoot":""}