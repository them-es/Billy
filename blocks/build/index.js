!function(e){var t={};function l(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=7)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.serverSideRender}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t,l){"use strict";l.r(t);var n=l(0),a=l(3),c=l(1),r=l(4),b=l(2),i=l(5),o=l.n(i);Object(a.registerBlockType)("billy-blocks/header",{title:Object(c.__)("Header","billy"),icon:"editor-table",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:function(e){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Info","billy")},Object(n.createElement)("div",{className:"components-notice"},Object(n.createElement)("div",{className:"components-notice__content"},Object(n.createElement)("a",{href:globalDataBilly.wpAdmin+"edit.php?post_type=billy-header"},Object(c.sprintf)(Object(c.__)("Edit the %s layout","billy"),Object(c.__)("Header","billy"))))),Object(n.createElement)("div",{className:"components-notice"},Object(n.createElement)("div",{className:"components-notice__content"},Object(c.sprintf)(Object(c.__)("The %s values can be modified in the Theme Customizer.","billy"),Object(c.__)("Header","billy")))))),Object(n.createElement)(b.Disabled,null,Object(n.createElement)(o.a,{block:"billy-blocks/header"})))},save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/theme-mod",{title:Object(c.__)("Theme Mod","billy"),icon:"admin-generic",category:"billy-blocks",attributes:{themeMod:{type:"string",default:""}},supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){e.className;var t=e.attributes.themeMod,l=e.setAttributes;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Theme Mod","billy")},Object(n.createElement)(b.SelectControl,{label:Object(c.__)("Setting","billy"),help:Object(c.__)("Modify the value in the Theme Customizer.","billy"),options:globalDataBilly.themeModOptions,value:t,onChange:function(e){l({themeMod:e})}}))),Object(n.createElement)(b.Disabled,null,Object(n.createElement)(o.a,{block:"billy-blocks/theme-mod",attributes:e.attributes})))},save:function(e){return null}});var s=l(6);Object(a.registerBlockType)("billy-blocks/invoice-actions",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Actions","billy")),icon:"menu-alt",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e){return{postModifiedDate:e("core/editor").getEditedPostAttribute("modified")}}))((function(e){var t=e.postModifiedDate;return Object(n.createElement)("div",{className:"components-placeholder",style:{minHeight:"auto"}},Object(n.createElement)("small",null,Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Last modified","billy"),new Date(t).toLocaleString())))})),save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/invoice-meta",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Meta","billy")),icon:"editor-textcolor",category:"billy-blocks",attributes:{label:{type:"string",default:""},text:{type:"string",default:""}},supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){e.className;var t=e.attributes,l=t.label,a=t.text,i=e.setAttributes;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Label","billy")},Object(n.createElement)(b.TextControl,{type:"text",className:"label",value:l,onChange:function(e){i({label:e})}})),Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Text","billy")},Object(n.createElement)(b.TextControl,{type:"text",className:"text",value:a,onChange:function(e){i({text:e})}}))),Object(n.createElement)(n.RawHTML,null,Object(c.sprintf)("<p>"+Object(c.__)("<strong>%1$s</strong> <span>%2$s</span>","billy")+"</p>",l||"",a||Object(c.__)("N/A","billy"))))},save:function(e){e.className;var t=e.attributes,l=t.label,a=t.text;return a&&Object(n.createElement)("p",null,Object(n.createElement)(n.RawHTML,null,Object(c.sprintf)("<p>"+Object(c.__)("<strong>%1$s</strong> <span>%2$s</span>","billy")+"</p>",l||"",a||Object(c.__)("N/A","billy"))))}}),Object(a.registerBlockType)("billy-blocks/invoice-date",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Date","billy")),icon:"calendar-alt",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Info","billy")},Object(n.createElement)("div",{className:"components-notice is-warning"},Object(n.createElement)("div",{className:"components-notice__content"},Object(c.sprintf)(Object(c.__)("Due to legal requirements in some countries, autogenerated data like %s can't be modified anymore after an invoice has been created in the system!","billy"),Object(c.__)("Date","billy")))))),Object(n.createElement)(b.Disabled,null,Object(n.createElement)(o.a,{block:"billy-blocks/invoice-date"})))},save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/invoice-duedate",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Due Date","billy")),icon:"calendar-alt",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Info","billy")},Object(n.createElement)("div",{className:"components-notice"},Object(n.createElement)("div",{className:"components-notice__content"},Object(c.sprintf)(Object(c.__)("The %s values can be modified in the Theme Customizer","billy"),Object(c.__)("Payment due days","billy")))))),Object(n.createElement)(b.Disabled,null,Object(n.createElement)(o.a,{block:"billy-blocks/invoice-duedate"})))},save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/invoice-number",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Number","billy")),icon:"editor-ol",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Info","billy")},Object(n.createElement)("div",{className:"components-notice"},Object(n.createElement)("div",{className:"components-notice__content"},Object(c.sprintf)(Object(c.__)("The %s values can be modified in the Theme Customizer","billy"),Object(c.__)("Invoice number prefix","billy")))),Object(n.createElement)("div",{className:"components-notice is-warning"},Object(n.createElement)("div",{className:"components-notice__content"},Object(c.sprintf)(Object(c.__)("Due to legal requirements in some countries, autogenerated data like %s can't be modified anymore after an invoice has been created in the system!","billy"),Object(c.__)("Invoice number","billy")))))),Object(n.createElement)(b.Disabled,null,Object(n.createElement)(o.a,{block:"billy-blocks/invoice-number"})))},save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/invoice-paymentinformation",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Payment Information","billy")),icon:"info",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Info","billy")},Object(n.createElement)("div",{className:"components-notice"},Object(n.createElement)("div",{className:"components-notice__content"},Object(c.sprintf)(Object(c.__)("The %s values can be modified in the Theme Customizer","billy"),Object(c.__)("Payment Information","billy")))))),Object(n.createElement)(b.Disabled,null,Object(n.createElement)(o.a,{block:"billy-blocks/invoice-paymentinformation"})))},save:function(e){return null}});var u,m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.toLocaleString(t,{minimumFractionDigits:2,maximumFractionDigits:2})},O=function(e){return parseFloat(e)/100},j=function(e){e=new Date(e)||new Date;return[1,2,3,4][Math.floor(e.getMonth()/3)]};Object(a.registerBlockType)("billy-blocks/invoice-table",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Table","billy")),icon:"menu-alt",category:"billy-blocks",attributes:{currency:{type:"string",default:""},locale:{type:"string",default:""},amountSubtotal:{type:"number",default:""},amountTotal:{type:"number",default:""},taxRates:{type:"string",default:""},taxRatesTotal:{type:"number",default:""}},supports:{inserter:!1,reusable:!1,html:!1},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e,t){var l=t.clientId,n=e("core/block-editor").getBlocksByClientId;return globalDataBilly.clientId=l,{childBlocks:n(l)[0].innerBlocks}}))((function(e){var t=e.className,l=e.childBlocks,a=e.attributes,b=a.currency,i=a.locale,o=a.amountSubtotal,s=a.amountTotal,u=a.taxRates,j=a.taxRatesTotal,y=e.setAttributes;y({currency:globalDataBilly.currency}),y({locale:globalDataBilly.locale});var d=function(){var e=0,t=0,n=0,a=[],c=[];l&&l.length>0&&(l.map((function(l,n){e+=Number(l.attributes.amount),t+=Number(l.attributes.amount)+O(l.attributes.taxRate)*Number(l.attributes.amount),a.push({taxRate:l.attributes.taxRate,amount:O(l.attributes.taxRate)*Number(l.attributes.amount)})})),a.length>0&&(n=a.reduce((function(e,t){return e+t.amount}),0),n=Number(n.toFixed(2)),a.reduce((function(e,t){return e[t.taxRate]||(e[t.taxRate]={taxRate:t.taxRate,amount:0},c.push(e[t.taxRate])),e[t.taxRate].amount+=t.amount,e}),{})),y({taxRatesTotal:n}),y({taxRates:JSON.stringify(c)}),y({amountSubtotal:e}),y({amountTotal:t}))};return d(),Object(n.createElement)("div",{className:"invoicetable-block"+(t?" "+t:"")},Object(n.createElement)(r.InnerBlocks,{templateLock:!1,template:[["billy-blocks/invoice-tablerow",{}]],allowedBlocks:["billy-blocks/invoice-tablerow"]}),o>0&&Object(n.createElement)("table",{className:"totals"},Object(n.createElement)("tbody",null,o>0&&Object(n.createElement)("tr",{className:"subtotal"},Object(n.createElement)("td",{style:{width:"50%"}},s>o?Object(c.__)("Subtotal","billy"):Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),b,m(o,i)))),u&&j>0&&Object(n.createElement)("tr",{className:"taxRates"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.__)("Tax","billy")),Object(n.createElement)("td",null,JSON.parse(u).sort((function(e,t){return O(e.taxRate)-O(t.taxRate)})).map((function(e,t){if(e.amount>0)return Object(n.createElement)(n.RawHTML,{key:t},Object(c.sprintf)(Object(c.__)("%1$s %2$s %3$s","billy"),b,m(e.amount,i),"<small>("+e.taxRate+")</small><br>"))})))),s>o&&Object(n.createElement)("tr",{className:"total"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),b,m(s,i)))))),Object(n.createElement)("button",{id:"updatetotals",className:"components-button is-secondary is-button is-small",onClick:d,style:{display:o>0?"block":"none"}},Object(c.__)("Update Totals","billy")))})),save:function(e){var t=e.className,l=e.attributes,a=l.currency,b=l.locale,i=l.amountSubtotal,o=l.amountTotal,s=l.taxRates,u=l.taxRatesTotal;return Object(n.createElement)("div",{className:"invoicetable-block alignwide"+(t?" "+t:"")},Object(n.createElement)("table",{className:"table wp-block-table"},Object(n.createElement)("thead",null,Object(n.createElement)("tr",null,Object(n.createElement)("th",{scope:"col"},Object(c.__)("#","billy")),Object(n.createElement)("th",{scope:"col"},Object(c.__)("Description","billy")),Object(n.createElement)("th",{scope:"col"},Object(c.__)("Amount","billy")),s&&u>0&&Object(n.createElement)("th",{scope:"col"},Object(c.__)("Tax","billy")))),Object(n.createElement)("tbody",null,Object(n.createElement)(r.InnerBlocks.Content,null)),Object(n.createElement)("tfoot",null,i>0&&Object(n.createElement)("tr",{className:"subtotal"},Object(n.createElement)("td",{colSpan:"2",align:"right"},o>i?Object(c.__)("Subtotal","billy"):Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(i,b)))),s&&u>0&&Object(n.createElement)("tr",{className:"taxrates"},Object(n.createElement)("td",{colSpan:"2",align:"right"},Object(c.__)("Tax","billy")),Object(n.createElement)("td",null,JSON.parse(s).sort((function(e,t){return O(e.taxRate)-O(t.taxRate)})).map((function(e,t){if(e.amount>0)return Object(n.createElement)(n.RawHTML,{key:t},Object(c.sprintf)(Object(c.__)("%1$s %2$s %3$s","billy"),a,m(e.amount,b),"<small>("+e.taxRate+")</small><br>"))})))),o>i&&Object(n.createElement)("tr",{className:"total"},Object(n.createElement)("td",{colSpan:"2",align:"right"},Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(o,b)))))))}}),Object(a.registerBlockType)("billy-blocks/invoice-tablerow",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Invoice","billy"),Object(c.__)("Table Row","billy")),icon:"menu-alt",category:"billy-blocks",parent:["billy-blocks/invoice-table"],attributes:{index:{type:"number",default:"0"},currency:{type:"string",default:""},locale:{type:"string",default:""},description:{type:"string",default:""},taxRate:{type:"string",default:""},amount:{type:"number",default:""},amountIncl:{type:"number",default:""},quantity:{type:"number",default:""},quantityRate:{type:"number",default:""}},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e,t){var l=t.clientId,n=e("core/block-editor"),a=n.getBlockRootClientId;return{i:(0,n.getBlockIndex)(l,a(l))+1}}))((function(e){e.className;var t=e.i,l=e.attributes,a=l.index,i=l.currency,o=(l.locale,l.description),s=l.taxRate,u=l.amount,m=l.amountIncl,j=l.quantity,y=l.quantityRate,d=e.setAttributes;d({index:t}),d({currency:globalDataBilly.currency}),d({locale:globalDataBilly.locale}),""===s&&d({taxRate:0===globalDataBilly.taxOptions.length?"0%":globalDataBilly.taxOptions[0].value});var p=function(e){d({amountIncl:e>0?Number(e):""}),setTimeout((function(){document.getElementById("updatetotals").click()}),1)},_=function(e){d({amount:e>0?Number(e):""}),p(Number(e)+Number(e)*O(s))};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Quantity/Rate Calculator","billy")},Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.__)("Quantity","billy"),placeholder:Object(c.__)("0","billy"),value:j,onChange:function(e){d({quantity:e>0?Number(e):""}),_(Number(e)*Number(y))}}),Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Rate","billy"),i),placeholder:Object(c.__)("0","billy"),value:y,onChange:function(e){d({quantityRate:e>0?Number(e):""}),_(Number(j)*Number(e))}}))),Object(n.createElement)("table",null,Object(n.createElement)("tbody",null,Object(n.createElement)("tr",null,Object(n.createElement)("th",{className:"index"},a&&a),Object(n.createElement)("td",null,Object(n.createElement)(r.RichText,{className:"description",style:{width:"30vw",minWidth:"200px"},tagName:"p",placeholder:Object(c.__)("Description","billy"),value:o,onChange:function(e){d({description:e})}})),Object(n.createElement)("td",null,Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Amount","billy"),i),className:"amount",placeholder:Object(c.__)("0","billy"),value:u,onChange:_})),Object(n.createElement)("td",null,Object(n.createElement)(b.SelectControl,{className:"taxrate",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Tax","billy"),"%"),value:s,options:0!==globalDataBilly.taxOptions.length?globalDataBilly.taxOptions:"0%"!==s&&0===globalDataBilly.taxOptions.length?[{label:s,value:s},{label:"0%",value:"0%"}]:"",onChange:function(e){d({taxRate:e}),p(Number(u)+Number(u)*O(e))}})),Object(n.createElement)("td",null,Object(n.createElement)(b.TextControl,{type:"number",disabled:"disabled",label:i,className:"amount-tax",placeholder:Object(c.__)("0","billy"),value:m}))))))})),save:function(e){e.className;var t=e.attributes,l=t.index,a=t.locale,r=t.description,b=t.taxRate,i=t.amount;return Object(n.createElement)("tr",null,Object(n.createElement)("th",{scope:"row"},l&&l),Object(n.createElement)("td",null,r&&Object(n.createElement)(n.RawHTML,null,r)),Object(n.createElement)("td",null,i&&m(i,a)),b&&O(b)>0&&Object(n.createElement)("td",null,Object(n.createElement)(n.RawHTML,null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),m(O(b)*i,a),"<small>("+b+")</small>"))))}}),Object(a.registerBlockType)("billy-blocks/quote-actions",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Quote","billy"),Object(c.__)("Actions","billy")),icon:"menu-alt",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e){return{postModifiedDate:e("core/editor").getEditedPostAttribute("modified")}}))((function(e){var t=e.postModifiedDate;return Object(n.createElement)("div",{className:"components-placeholder",style:{minHeight:"auto"}},Object(n.createElement)("small",null,Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Last modified","billy"),new Date(t).toLocaleString())))})),save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/quote-meta",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Quote","billy"),Object(c.__)("Meta","billy")),icon:"editor-textcolor",category:"billy-blocks",attributes:{label:{type:"string",default:""},text:{type:"string",default:""}},supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){e.className;var t=e.attributes,l=t.label,a=t.text,i=e.setAttributes;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Label","billy")},Object(n.createElement)(b.TextControl,{type:"text",className:"label",value:l,onChange:function(e){i({label:e})}})),Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Text","billy")},Object(n.createElement)(b.TextControl,{type:"text",className:"text",value:a,onChange:function(e){i({text:e})}}))),Object(n.createElement)(n.RawHTML,null,Object(c.sprintf)("<p>"+Object(c.__)("<strong>%1$s</strong> <span>%2$s</span>","billy")+"</p>",l||"",a||Object(c.__)("N/A","billy"))))},save:function(e){e.className;var t=e.attributes,l=t.label,a=t.text;return a&&Object(n.createElement)("p",null,Object(n.createElement)(n.RawHTML,null,Object(c.sprintf)("<p>"+Object(c.__)("<strong>%1$s</strong> <span>%2$s</span>","billy")+"</p>",l||"",a||Object(c.__)("N/A","billy"))))}}),Object(a.registerBlockType)("billy-blocks/quote-date",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Quote","billy"),Object(c.__)("Date","billy")),icon:"calendar-alt",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){return Object(n.createElement)(o.a,{block:"billy-blocks/quote-date"})},save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/quote-information",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Quote","billy"),Object(c.__)("Information","billy")),icon:"info",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Info","billy")},Object(n.createElement)("div",{className:"components-notice"},Object(n.createElement)("div",{className:"components-notice__content"},Object(c.sprintf)(Object(c.__)("The %s values can be modified in the Theme Customizer","billy"),Object(c.__)("Quote Information","billy")))))),Object(n.createElement)(o.a,{block:"billy-blocks/quote-information"}))},save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/quote-table",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Quote","billy"),Object(c.__)("Table","billy")),icon:"menu-alt",category:"billy-blocks",attributes:{currency:{type:"string",default:""},locale:{type:"string",default:""},amountSubtotal:{type:"number",default:""},amountTotal:{type:"number",default:""},taxRates:{type:"string",default:""},taxRatesTotal:{type:"number",default:""}},supports:{inserter:!1,reusable:!1,html:!1},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e,t){var l=t.clientId,n=e("core/block-editor").getBlocksByClientId;return globalDataBilly.clientId=l,{childBlocks:n(l)[0].innerBlocks}}))((function(e){var t=e.className,l=e.childBlocks,a=e.attributes,b=a.currency,i=a.locale,o=a.amountSubtotal,s=a.amountTotal,u=a.taxRates,j=a.taxRatesTotal,y=e.setAttributes;y({currency:globalDataBilly.currency}),y({locale:globalDataBilly.locale});var d=function(){var e=0,t=0,n=0,a=[],c=[];l&&l.length>0&&(l.map((function(l,n){e+=Number(l.attributes.amount),t+=Number(l.attributes.amount)+O(l.attributes.taxRate)*Number(l.attributes.amount),a.push({taxRate:l.attributes.taxRate,amount:O(l.attributes.taxRate)*Number(l.attributes.amount)})})),a.length>0&&(n=a.reduce((function(e,t){return e+t.amount}),0),n=Number(n.toFixed(2)),a.reduce((function(e,t){return e[t.taxRate]||(e[t.taxRate]={taxRate:t.taxRate,amount:0},c.push(e[t.taxRate])),e[t.taxRate].amount+=t.amount,e}),{})),y({taxRatesTotal:n}),y({taxRates:JSON.stringify(c)}),y({amountSubtotal:e}),y({amountTotal:t}))};return d(),Object(n.createElement)("div",{className:"quotetable-block"+(t?" "+t:"")},Object(n.createElement)(r.InnerBlocks,{templateLock:!1,template:[["billy-blocks/quote-tablerow",{}]],allowedBlocks:["billy-blocks/quote-tablerow"]}),o>0&&Object(n.createElement)("table",{className:"totals"},Object(n.createElement)("tbody",null,o>0&&Object(n.createElement)("tr",{className:"subtotal"},Object(n.createElement)("td",{style:{width:"50%"}},s>o?Object(c.__)("Subtotal","billy"):Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),b,m(o,i)))),u&&j>0&&Object(n.createElement)("tr",{className:"taxRates"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.__)("Tax","billy")),Object(n.createElement)("td",null,JSON.parse(u).sort((function(e,t){return O(e.taxRate)-O(t.taxRate)})).map((function(e,t){if(e.amount>0)return Object(n.createElement)(n.RawHTML,{key:t},Object(c.sprintf)(Object(c.__)("%1$s %2$s %3$s","billy"),b,m(e.amount,i),"<small>("+e.taxRate+")</small><br>"))})))),s>o&&Object(n.createElement)("tr",{className:"total"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),b,m(s,i)))))),Object(n.createElement)("button",{id:"updatetotals",className:"components-button is-secondary is-button is-small",onClick:d,style:{display:o>0?"block":"none"}},Object(c.__)("Update Totals","billy")))})),save:function(e){var t=e.className,l=e.attributes,a=l.currency,b=l.locale,i=l.amountSubtotal,o=l.amountTotal,s=l.taxRates,u=l.taxRatesTotal;return Object(n.createElement)("div",{className:"quotetable-block alignwide"+(t?" "+t:"")},Object(n.createElement)("table",{className:"table wp-block-table"},Object(n.createElement)("thead",null,Object(n.createElement)("tr",null,Object(n.createElement)("th",{scope:"col"},Object(c.__)("#","billy")),Object(n.createElement)("th",{scope:"col"},Object(c.__)("Description","billy")),Object(n.createElement)("th",{scope:"col"},Object(c.__)("Amount","billy")),s&&u>0&&Object(n.createElement)("th",{scope:"col"},Object(c.__)("Tax","billy")))),Object(n.createElement)("tbody",null,Object(n.createElement)(r.InnerBlocks.Content,null)),Object(n.createElement)("tfoot",null,i>0&&Object(n.createElement)("tr",{className:"subtotal"},Object(n.createElement)("td",{colSpan:"2",align:"right"},o>i?Object(c.__)("Subtotal","billy"):Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(i,b)))),s&&u>0&&Object(n.createElement)("tr",{className:"taxrates"},Object(n.createElement)("td",{colSpan:"2",align:"right"},Object(c.__)("Tax","billy")),Object(n.createElement)("td",null,JSON.parse(s).sort((function(e,t){return O(e.taxRate)-O(t.taxRate)})).map((function(e,t){if(e.amount>0)return Object(n.createElement)(n.RawHTML,{key:t},Object(c.sprintf)(Object(c.__)("%1$s %2$s %3$s","billy"),a,m(e.amount,b),"<small>("+e.taxRate+")</small><br>"))})))),o>i&&Object(n.createElement)("tr",{className:"total"},Object(n.createElement)("td",{colSpan:"2",align:"right"},Object(c.__)("Total","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(o,b)))))))}}),Object(a.registerBlockType)("billy-blocks/quote-tablerow",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Quote","billy"),Object(c.__)("Table Row","billy")),icon:"menu-alt",category:"billy-blocks",parent:["billy-blocks/quote-table"],attributes:{index:{type:"number",default:"0"},currency:{type:"string",default:""},locale:{type:"string",default:""},description:{type:"string",default:""},taxRate:{type:"string",default:""},amount:{type:"number",default:""},amountIncl:{type:"number",default:""},quantity:{type:"number",default:""},quantityRate:{type:"number",default:""}},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e,t){var l=t.clientId,n=e("core/block-editor"),a=n.getBlockRootClientId;return{i:(0,n.getBlockIndex)(l,a(l))+1}}))((function(e){e.className;var t=e.i,l=e.attributes,a=l.index,i=l.currency,o=(l.locale,l.description),s=l.taxRate,u=l.amount,m=l.amountIncl,j=l.quantity,y=l.quantityRate,d=e.setAttributes;d({index:t}),d({currency:globalDataBilly.currency}),d({locale:globalDataBilly.locale}),""===s&&d({taxRate:0===globalDataBilly.taxOptions.length?"0%":globalDataBilly.taxOptions[0].value});var p=function(e){d({amountIncl:e>0?Number(e):""}),setTimeout((function(){document.getElementById("updatetotals").click()}),1)},_=function(e){d({amount:e>0?Number(e):""}),p(Number(e)+Number(e)*O(s))};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Quantity/Rate Calculator","billy")},Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.__)("Quantity","billy"),placeholder:Object(c.__)("0","billy"),value:j,onChange:function(e){d({quantity:e>0?Number(e):""}),_(Number(e)*Number(y))}}),Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Rate","billy"),i),placeholder:Object(c.__)("0","billy"),value:y,onChange:function(e){d({quantityRate:e>0?Number(e):""}),_(Number(j)*Number(e))}}))),Object(n.createElement)("table",null,Object(n.createElement)("tbody",null,Object(n.createElement)("tr",null,Object(n.createElement)("th",{className:"index"},a&&a),Object(n.createElement)("td",null,Object(n.createElement)(r.RichText,{className:"description",style:{width:"30vw",minWidth:"200px"},tagName:"p",placeholder:Object(c.__)("Description","billy"),value:o,onChange:function(e){d({description:e})}})),Object(n.createElement)("td",null,Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Amount","billy"),i),className:"amount",placeholder:Object(c.__)("0","billy"),value:u,onChange:_})),Object(n.createElement)("td",null,Object(n.createElement)(b.SelectControl,{className:"taxrate",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Tax","billy"),"%"),value:s,options:0!==globalDataBilly.taxOptions.length?globalDataBilly.taxOptions:"0%"!==s&&0===globalDataBilly.taxOptions.length?[{label:s,value:s},{label:"0%",value:"0%"}]:"",onChange:function(e){d({taxRate:e}),p(Number(u)+Number(u)*O(e))}})),Object(n.createElement)("td",null,Object(n.createElement)(b.TextControl,{type:"number",disabled:"disabled",label:i,className:"amount-tax",placeholder:Object(c.__)("0","billy"),value:m}))))))})),save:function(e){e.className;var t=e.attributes,l=t.index,a=t.locale,r=t.description,b=t.taxRate,i=t.amount;return Object(n.createElement)("tr",null,Object(n.createElement)("th",{scope:"row"},l&&l),Object(n.createElement)("td",null,r&&Object(n.createElement)(n.RawHTML,null,r)),Object(n.createElement)("td",null,i&&m(i,a)),b&&O(b)>0&&Object(n.createElement)("td",null,Object(n.createElement)(n.RawHTML,null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),m(O(b)*i,a),"<small>("+b+")</small>"))))}}),Object(a.registerBlockType)("billy-blocks/quote-validuntildate",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Quote","billy"),Object(c.__)("Valid Until","billy")),icon:"calendar-alt",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},edit:function(e){return Object(n.createElement)(o.a,{block:"billy-blocks/quote-validuntildate"})},save:function(e){return null}}),Object(a.registerBlockType)("billy-blocks/accounting-table",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Accounting","billy"),Object(c.__)("Table","billy")),icon:"menu-alt",category:"billy-blocks",attributes:{currency:{type:"string",default:""},locale:{type:"string",default:""},amountTotalEarnings:{type:"number",default:""},amountTotalExpenses:{type:"number",default:""},amountTaxEarnings:{type:"number",default:""},amountTaxExpenses:{type:"number",default:""}},supports:{inserter:!1,reusable:!1,html:!1},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e,t){var l=t.clientId,n=e("core/block-editor").getBlocksByClientId;globalDataBilly.clientId=l;var a=n(l)[0].innerBlocks;return a.sort((function(e,t){return new Date(e.attributes.date)-new Date(t.attributes.date)})),{childBlocks:a}}))((function(e){var t=e.className,l=e.childBlocks,a=e.attributes,i=a.currency,o=a.locale,s=a.amountTotalEarnings,O=a.amountTotalExpenses,j=a.amountTaxEarnings,y=a.amountTaxExpenses,d=e.setAttributes;return d({currency:globalDataBilly.currency}),d({locale:globalDataBilly.locale}),(u=function(){var e=0,t=0,n=0,a=0;l&&l.length>0&&l.forEach((function(l){e+=Number(l.attributes.earning),t+=Number(l.attributes.expense),l.attributes.earning&&(n+=Number(l.attributes.tax)),l.attributes.expense&&(a+=Number(l.attributes.tax))})),d({amountTotalEarnings:e}),d({amountTotalExpenses:t}),d({amountTaxEarnings:n}),d({amountTaxExpenses:a})})(),Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Actions","billy")},Object(n.createElement)("button",{id:"updatetotals",className:"components-button is-secondary is-button is-small",onClick:u},Object(c.__)("Update Totals","billy")))),Object(n.createElement)("div",{className:"accountingtable-block"+(t?" "+t:"")},Object(n.createElement)(r.InnerBlocks,{templateLock:!1,template:[["billy-blocks/accounting-tablerow",{}]],allowedBlocks:["billy-blocks/accounting-tablerow"]}),Object(n.createElement)("table",{className:"totals"},Object(n.createElement)("tbody",null,s>0&&Object(n.createElement)("tr",{className:"earnings"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.__)("Earnings","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),i,m(s,o)))),O>0&&Object(n.createElement)("tr",{className:"expenses"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.__)("Expenses","billy")),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),i,m(O,o)))),(s>0||O>0)&&Object(n.createElement)("tr",{className:"profit"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.__)("Profit","billy")),Object(n.createElement)("td",{style:{borderTop:"2px solid"}},Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),i,m(s-O,o)))),(j>0||y>0)&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("tr",{className:"taxes-earnings"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.sprintf)(Object(c.__)("Taxes (%s)","billy"),Object(c.__)("Earnings","billy"))),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),i,m(j,o)))),Object(n.createElement)("tr",{className:"taxes-expenses"},Object(n.createElement)("td",{style:{width:"50%"}},Object(c.sprintf)(Object(c.__)("Taxes (%s)","billy"),Object(c.__)("Expenses","billy"))),Object(n.createElement)("td",null,Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),i,m(y,o)))))))))})),save:function(e){var t=e.className,l=e.attributes,a=l.currency,b=l.locale,i=l.amountTotalEarnings,o=l.amountTotalExpenses,s=l.amountTaxEarnings,u=l.amountTaxExpenses;return Object(n.createElement)("div",{className:"alignwide"+(t?" "+t:"")},Object(n.createElement)("table",{className:"table wp-block-table"},Object(n.createElement)("thead",null,Object(n.createElement)("tr",null,Object(n.createElement)("th",{scope:"col",className:"sort","data-sort":"index"},Object(c.__)("#","billy")),Object(n.createElement)("th",{scope:"col",className:"sort","data-sort":"date"},Object(c.__)("Date","billy")),Object(n.createElement)("th",{scope:"col",className:"sort","data-sort":"description"},Object(c.__)("Description","billy")),Object(n.createElement)("th",{scope:"col",className:"sort","data-sort":"reference"},Object(c.__)("Reference","billy")),Object(n.createElement)("th",{scope:"col",className:"sort earnings","data-sort":"earning"},Object(c.__)("Earning","billy")),Object(n.createElement)("th",{scope:"col",className:"sort expenses","data-sort":"expense"},Object(c.__)("Expense","billy")),Object(n.createElement)("th",{scope:"col",className:"sort","data-sort":"tax"},Object(c.__)("Tax","billy")))),Object(n.createElement)("tbody",{className:"list"},Object(n.createElement)(r.InnerBlocks.Content,null)),Object(n.createElement)("tfoot",null,(i>0||o>0)&&Object(n.createElement)("tr",null,Object(n.createElement)("td",{colSpan:"4",align:"right"},Object(c.sprintf)(Object(c.__)("%1$s / %2$s","billy"),Object(c.__)("Earnings","billy"),Object(c.__)("Expenses","billy"))),Object(n.createElement)("td",{className:"sum earnings"},Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(i,b))),Object(n.createElement)("td",{className:"sum expenses"},Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(o,b)))),(i>0||o>0)&&Object(n.createElement)("tr",null,Object(n.createElement)("td",{colSpan:"4",align:"right"},Object(c.__)("Profit","billy")),Object(n.createElement)("td",{colSpan:"2",className:"profit"},Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(i-o,b)))),(s>0||u>0)&&Object(n.createElement)("tr",null,Object(n.createElement)("td",{colSpan:"4",align:"right"},Object(c.sprintf)(Object(c.__)("%1$s (%2$s / %3$s)","billy"),Object(c.__)("Taxes","billy"),Object(c.__)("Earnings","billy"),Object(c.__)("Expenses","billy"))),Object(n.createElement)("td",{className:"sum tax-earnings"},Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(s,b))),Object(n.createElement)("td",{className:"sum tax-expenses"},Object(c.sprintf)(Object(c.__)("%1$s %2$s","billy"),a,m(u,b)))))))}}),Object(a.registerBlockType)("billy-blocks/accounting-tablerow",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Accounting","billy"),Object(c.__)("Table Row","billy")),icon:"menu-alt",category:"billy-blocks",parent:["billy-blocks/accounting-table"],attributes:{index:{type:"number",default:"0"},currency:{type:"string",default:""},locale:{type:"string",default:""},date:{type:"string",default:""},quarter:{type:"number",default:""},reference:{type:"string",default:""},description:{type:"string",default:""},earning:{type:"number",default:""},expense:{type:"number",default:""},tax:{type:"number",default:""},postUUID:{type:"string",default:""},postTitle:{type:"string",default:""},postLink:{type:"string",default:""},postType:{type:"string",default:""}},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e,t){var l=t.clientId,n=e("core/block-editor"),a=n.getBlockRootClientId,c=n.getBlockIndex;return{clientId:l,rootClientId:a(l),i:c(l,a(l))+1}}))((function(e){e.className;var t=e.clientId,l=e.rootClientId,a=e.i,i=e.attributes,o=i.index,m=i.currency,O=(i.locale,i.date),y=i.quarter,d=i.description,p=i.earning,_=i.expense,f=i.tax,E=i.reference,g=i.postUUID,x=i.postTitle,h=i.postLink,v=i.postType,N=e.setAttributes;N({index:a}),N({currency:globalDataBilly.currency}),N({locale:globalDataBilly.locale}),""===O&&(N({date:(new Date).toISOString().substring(0,10)}),N({quarter:j((new Date).toISOString().substring(0,10))}));return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(r.InspectorControls,null,!g&&Object(n.createElement)(b.PanelBody,{title:Object(c.__)("Date","billy")},Object(n.createElement)(b.DatePicker,{currentDate:O,onChange:function(e){N({date:e}),function(e){N({quarter:Number(j(e))})}(e),Object(s.dispatch)("core/block-editor").moveBlockToPosition(t,l,l,a)}})),g&&h&&Object(n.createElement)(b.PanelBody,{title:Object(c.sprintf)(Object(c.__)("Reference: %s","billy"),v?v.charAt(0).toUpperCase()+v.substring(1):Object(c.__)("Post","billy"))},Object(n.createElement)("p",null,Object(n.createElement)("a",{href:h},x||h)))),Object(n.createElement)("table",null,Object(n.createElement)("tbody",null,Object(n.createElement)("tr",null,Object(n.createElement)("th",{className:"index"},o&&o),Object(n.createElement)("td",{className:"date"},O&&new Date(O).toISOString().substring(0,10),Object(n.createElement)("sub",null,y&&Object(c.sprintf)(Object(c.__)("Q%s","billy"),y))),Object(n.createElement)("td",{className:"description"},Object(n.createElement)(r.RichText,{style:{minWidth:"200px"},tagName:"p",placeholder:Object(c.__)("Description","billy"),value:d,onChange:function(e){N({description:e})}})),Object(n.createElement)("td",{className:"reference"},Object(n.createElement)(b.TextControl,{type:"text",label:Object(c.__)("Reference","billy"),placeholder:"",value:E,onChange:function(e){N({reference:e})}})),Object(n.createElement)("td",{className:"amount earning"},Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Earning","billy"),m),placeholder:Object(c.__)("0","billy"),value:p,onChange:function(e){N({expense:""}),N({earning:e>0?Number(e):""}),u()}})),Object(n.createElement)("td",{className:"amount expense"},Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Expense","billy"),m),placeholder:Object(c.__)("0","billy"),value:_,onChange:function(e){N({earning:""}),N({expense:e>0?Number(e):""}),u()}})),Object(n.createElement)("td",{className:"amount tax"},Object(n.createElement)(b.TextControl,{type:"number",label:Object(c.sprintf)(Object(c.__)("%1$s in %2$s","billy"),Object(c.__)("Tax","billy"),m),placeholder:Object(c.__)("0","billy"),value:f,onChange:function(e){N({tax:e>0?Number(e):""}),u()}}))))))})),save:function(e){e.className;var t=e.attributes,l=t.index,a=t.locale,r=t.date,b=t.quarter,i=t.description,o=t.earning,s=t.expense,u=t.tax,O=t.reference,j=t.postLink;return Object(n.createElement)("tr",{"data-date":r&&new Date(r).toISOString().substring(0,10),"data-quarter":b&&Object(c.sprintf)(Object(c.__)("Q%s","billy"),b),"data-reference":O&&O,"data-earning":o>0?o:null,"data-expense":s>0?s:null,"data-tax":u>0?u:null},Object(n.createElement)("th",{className:"index",scope:"row"},l&&l),Object(n.createElement)("td",{className:"date","data-value":r&&new Date(r).toISOString().substring(0,10)},r&&new Date(r).toISOString().substring(0,10),Object(n.createElement)("sub",null,b&&Object(c.sprintf)(Object(c.__)("Q%s","billy"),b))),Object(n.createElement)("td",{className:"description"},i&&Object(n.createElement)(n.RawHTML,null,i)),Object(n.createElement)("td",{className:"reference"},O&&!j&&O,O&&j&&Object(n.createElement)("a",{href:j},O)),Object(n.createElement)("td",{className:"amount earning","data-value":o>0?o:null},o&&o>0&&m(o,a)),Object(n.createElement)("td",{className:"amount expense","data-value":s>0?s:null},s&&s>0&&m(s,a)),Object(n.createElement)("td",{className:"amount tax","data-value":u>0?u:null},u&&u>0&&m(u,a)))}}),Object(a.registerBlockType)("billy-blocks/accounting-actions",{title:Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Accounting","billy"),Object(c.__)("Actions","billy")),icon:"menu-alt",category:"billy-blocks",supports:{inserter:!1,reusable:!1,html:!1},getEditWrapperProps:function(){return{"data-align":"wide"}},edit:Object(s.withSelect)((function(e){return{postModifiedDate:e("core/editor").getEditedPostAttribute("modified")}}))((function(e){var t=e.postModifiedDate;return Object(n.createElement)("div",{className:"components-placeholder",style:{minHeight:"auto"}},Object(n.createElement)("small",null,Object(c.sprintf)(Object(c.__)("%1$s: %2$s","billy"),Object(c.__)("Last modified","billy"),new Date(t).toLocaleString())))})),save:function(e){return null}})}]);